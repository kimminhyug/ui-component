{"version":3,"sources":["../../src/i18n/base-messages.ts","../../src/i18n/merge-messages.ts","../../src/i18n/I18nContext.tsx"],"sourcesContent":["import type { UIMessages } from './i18n.types';\r\n\r\n/** 기본 UI 메시지 (한국어). I18nProvider messages로 덮어쓸 수 있음. */\r\nexport const baseMessages: UIMessages = {\r\n  button: {\r\n    submit: '제출',\r\n    cancel: '취소',\r\n    confirm: '확인',\r\n    close: '닫기',\r\n    save: '저장',\r\n    delete: '삭제',\r\n    edit: '편집',\r\n    back: '뒤로',\r\n  },\r\n  input: {\r\n    placeholder: '입력하세요',\r\n    search: '검색',\r\n    clear: '지우기',\r\n  },\r\n  badge: {\r\n    new: '새 항목',\r\n    default: '기본',\r\n  },\r\n  modal: {\r\n    close: '닫기',\r\n    confirm: '확인',\r\n    cancel: '취소',\r\n    title: '알림',\r\n    description: '',\r\n  },\r\n  dropdown: {\r\n    placeholder: '선택하세요',\r\n    noOptions: '선택 항목 없음',\r\n    searchPlaceholder: '검색...',\r\n  },\r\n  tabs: {\r\n    next: '다음',\r\n    prev: '이전',\r\n  },\r\n  checkbox: {\r\n    label: '',\r\n  },\r\n  table: {\r\n    empty: '데이터가 없습니다',\r\n    loading: '로딩 중...',\r\n    noResults: '검색 결과가 없습니다',\r\n    pageInfo: '{{from}}-{{to}} / {{total}}',\r\n    rowsPerPage: '페이지당 행 수',\r\n    firstPage: '첫 페이지',\r\n    lastPage: '마지막 페이지',\r\n    nextPage: '다음 페이지',\r\n    prevPage: '이전 페이지',\r\n    // DataTable: 페이지네이션 버튼(짧은 형태)\r\n    first: '처음',\r\n    prev: '이전',\r\n    next: '다음',\r\n    last: '마지막',\r\n    // DataTable: 선택 체크박스 aria-label\r\n    selectAll: '전체 선택',\r\n    selectRow: '행 선택',\r\n  },\r\n};\r\n","import type { UIMessages } from './i18n.types';\r\n\r\nexport const mergeMessages = (base: UIMessages, override?: UIMessages | null): UIMessages => {\r\n  if (!override || typeof override !== 'object') return base;\r\n\r\n  const result: UIMessages = {};\r\n\r\n  for (const key of Object.keys(base)) {\r\n    const baseVal = base[key];\r\n    const overrideVal = override[key];\r\n\r\n    if (baseVal && typeof baseVal === 'object' && !Array.isArray(baseVal)) {\r\n      const overrideObj =\r\n        overrideVal && typeof overrideVal === 'object' && !Array.isArray(overrideVal)\r\n          ? overrideVal\r\n          : {};\r\n      result[key] = { ...baseVal, ...overrideObj };\r\n    } else {\r\n      result[key] = overrideVal !== undefined ? overrideVal : baseVal;\r\n    }\r\n  }\r\n\r\n  for (const key of Object.keys(override)) {\r\n    if (result[key] === undefined) {\r\n      result[key] = override[key];\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n","import { createContext, useContext, useMemo, type ReactNode } from 'react';\r\nimport { baseMessages } from './base-messages';\r\nimport type { UIMessages } from './i18n.types';\r\nimport { mergeMessages } from './merge-messages';\r\n\r\ntype I18nContextValue = UIMessages;\r\n\r\nconst replaceParams = (\r\n  template: string,\r\n  params?: Record<string, string | number>\r\n): string => {\r\n  if (!params) return template;\r\n  let out = template;\r\n  for (const [k, v] of Object.entries(params)) {\r\n    out = out.split(`{{${k}}}`).join(String(v));\r\n  }\r\n  return out;\r\n};\r\n\r\nconst I18nContext = createContext<I18nContextValue>(baseMessages);\r\n\r\nexport interface I18nProviderProps {\r\n  messages?: UIMessages | null;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const I18nProvider = ({ messages, children }: I18nProviderProps) => {\r\n  const value = useMemo(\r\n    () => (messages ? mergeMessages(baseMessages, messages) : baseMessages),\r\n    [messages]\r\n  );\r\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;\r\n};\r\n\r\nexport const useI18n = (): I18nContextValue => {\r\n  const ctx = useContext(I18nContext);\r\n  if (!ctx) return baseMessages;\r\n  return ctx;\r\n};\r\n\r\n\r\nexport const useMessage = (\r\n  componentKey: keyof UIMessages,\r\n  messageKey: string,\r\n  params?: Record<string, string | number>\r\n): string => {\r\n  const messages = useI18n();\r\n  const map = messages[componentKey];\r\n  const raw = (map && typeof map === 'object' && (map as Record<string, string>)[messageKey]) ?? '';\r\n  return typeof raw === 'string' ? replaceParams(raw, params) : '';\r\n};\r\n\r\n\r\nexport const useT = (): ((\r\n  key: string,\r\n  params?: Record<string, string | number>\r\n) => string) => {\r\n  const messages = useI18n();\r\n\r\n  return (key, params) => {\r\n    const dot = key.indexOf('.');\r\n    const componentKey = dot < 0 ? key : key.slice(0, dot);\r\n    const messageKey = dot < 0 ? '' : key.slice(dot + 1);\r\n\r\n    const map = messages[componentKey];\r\n    const raw =\r\n      (map && typeof map === 'object' && (map as Record<string, string>)[messageKey]) ?? '';\r\n    return typeof raw === 'string' ? replaceParams(raw, params) : '';\r\n  };\r\n};\r\n"],"mappings":"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","names":[]}