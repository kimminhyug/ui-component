{"version":3,"sources":["../src/theme/base-theme.ts","../src/theme/merge-theme.ts","../src/theme/resolveClassName.ts","../src/theme/ThemeContext.tsx","../src/i18n/base-messages.ts","../src/i18n/merge-messages.ts","../src/i18n/I18nContext.tsx","../src/components/atoms/Button.tsx","../src/utils/cn.ts","../src/components/atoms/Input.tsx","../src/components/atoms/Badge.tsx","../src/components/molecules/Modal.tsx","../src/components/molecules/Dropdown.tsx","../src/components/molecules/Tabs.tsx","../src/components/molecules/Checkbox.tsx","../src/components/molecules/Table/TableContext.tsx","../src/components/molecules/Table/Table.tsx","../src/components/molecules/Table/TableHead.tsx","../src/components/molecules/Table/TableBody.tsx","../src/components/molecules/DataTable/DataTable.tsx","../src/hooks/useDataTable.ts","../src/components/molecules/DataTable/IndeterminateCheckbox.tsx","../src/components/molecules/DataTable/DataTableHead.tsx","../src/components/molecules/EditableTable/EditableTable.tsx","../src/components/molecules/EditableTable/EditableCell.tsx","../src/components/molecules/ExcelGrid/ExcelGridContext.tsx","../src/components/molecules/ExcelGrid/state/gridStore.ts","../src/components/molecules/ExcelGrid/ExcelGridInner.tsx","../src/components/molecules/ExcelGrid/core/GridRoot.tsx","../src/components/molecules/ExcelGrid/core/GridViewport.tsx","../src/components/molecules/ExcelGrid/core/GridCell.tsx","../src/components/molecules/ExcelGrid/model/rangeModel.ts","../src/components/molecules/ExcelGrid/model/columnModel.ts","../src/components/molecules/ExcelGrid/utils/dragPreview.ts","../src/components/molecules/ExcelGrid/core/GridRow.tsx","../src/components/molecules/ExcelGrid/core/GridBody.tsx","../src/components/molecules/ExcelGrid/model/rowModel.ts","../src/components/molecules/ExcelGrid/model/sortFilterModel.ts","../src/components/molecules/ExcelGrid/controller/selection.ts","../src/components/molecules/ExcelGrid/controller/clipboard.ts","../src/components/molecules/ExcelGrid/controller/keyboard.ts","../src/components/molecules/ExcelGrid/controller/mouse.ts","../src/components/molecules/ExcelGrid/utils/exportImport.ts","../src/components/molecules/ExcelGrid/ExcelGrid.tsx","../src/hooks/useDisclosure.ts"],"sourcesContent":["import type { UITheme } from './theme.types';\n\nexport const baseTheme: UITheme = {\n  button: {\n    base: 'inline-flex items-center justify-center font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-500',\n    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-400',\n    outline: 'border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-400',\n    ghost: 'hover:bg-gray-100 focus-visible:ring-gray-300',\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500',\n    sizeSm: 'h-8 px-3 text-sm rounded-md',\n    sizeMd: 'h-10 px-4 text-sm rounded-md',\n    sizeLg: 'h-12 px-6 text-base rounded-lg',\n  },\n  input: {\n    base: 'flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50',\n    error: 'border-red-500 focus:ring-red-500',\n  },\n  badge: {\n    base: 'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium',\n    default: 'bg-gray-100 text-gray-800',\n    primary: 'bg-blue-100 text-blue-800',\n    success: 'bg-green-100 text-green-800',\n    warning: 'bg-amber-100 text-amber-800',\n    danger: 'bg-red-100 text-red-800',\n  },\n  modal: {\n    overlay: 'fixed inset-0 bg-black/50 transition-opacity',\n    panel:\n      'relative w-full max-w-[calc(100%-2rem)] sm:max-w-lg max-h-[90vh] overflow-y-auto transform overflow-x-hidden rounded-lg bg-white shadow-xl transition-all',\n    title: 'text-lg font-semibold text-gray-900',\n    description: 'mt-1 text-sm text-gray-500',\n  },\n  dropdown: {\n    button:\n      'inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:px-4',\n    menu:\n      'absolute left-0 right-auto sm:left-auto sm:right-0 z-10 mt-1 min-w-56 max-w-[min(100vw_-_2rem,20rem)] max-h-[min(70vh,20rem)] overflow-y-auto origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none',\n    item: 'block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 whitespace-nowrap',\n    itemActive: 'bg-gray-100',\n  },\n  tabs: {\n    list: 'flex border-b border-gray-200 overflow-x-auto flex-nowrap -mb-px',\n    tab: 'border-b-2 border-transparent px-3 py-2 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700 whitespace-nowrap flex-shrink-0 sm:px-4',\n    tabActive: 'border-blue-500 text-blue-600',\n    panel: 'py-4 min-w-0 overflow-x-auto',\n  },\n  checkbox: {\n    base: 'h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500',\n    label: 'ml-2 text-sm text-gray-700',\n  },\n  table: {\n    wrapper: 'w-full overflow-auto',\n    root: 'min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg',\n    head: 'bg-gray-50',\n    headRow: '',\n    headCell: 'px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider',\n    body: 'divide-y divide-gray-200 bg-white',\n    row: 'hover:bg-gray-50 transition-colors',\n    cell: 'px-4 py-3 text-sm text-gray-900',\n  },\n  custom: {},\n};\n","import type { UITheme } from './theme.types';\n\nexport const mergeTheme = (base: UITheme, override?: UITheme | null): UITheme => {\n  if (!override || typeof override !== 'object') return base;\n\n  const result: UITheme = {};\n\n  for (const key of Object.keys(base)) {\n    const baseVal = base[key];\n    const overrideVal = override[key];\n\n    if (baseVal && typeof baseVal === 'object' && !Array.isArray(baseVal)) {\n      const overrideObj =\n        overrideVal && typeof overrideVal === 'object' && !Array.isArray(overrideVal)\n          ? overrideVal\n          : {};\n      result[key] = { ...baseVal, ...overrideObj };\n    } else {\n      result[key] = overrideVal !== undefined ? overrideVal : baseVal;\n    }\n  }\n\n  for (const key of Object.keys(override)) {\n    if (result[key] === undefined) {\n      result[key] = override[key];\n    }\n  }\n\n  return result;\n};\n","/**\r\n * className 문자열을 theme.custom 맵으로 치환.\r\n * className=\"my-token\" 이고 custom['my-token'] = 'bg-red-500' 이면 → 'bg-red-500' 적용.\r\n */\r\nexport const resolveClassName = (\r\n  className: string | undefined,\r\n  customMap: Record<string, string> | undefined\r\n): string => {\r\n  if (!className?.trim()) return '';\r\n  if (!customMap || typeof customMap !== 'object') return className.trim();\r\n\r\n  return className\r\n    .trim()\r\n    .split(/\\s+/)\r\n    .map((token) => (customMap[token] !== undefined ? customMap[token] : token))\r\n    .filter(Boolean)\r\n    .join(' ');\r\n};\r\n","import {\n  createContext,\n  useContext,\n  useMemo,\n  useState,\n  useCallback,\n  type ReactNode,\n} from 'react';\nimport { mergeTheme } from './merge-theme';\nimport { baseTheme } from './base-theme';\nimport type { UITheme } from './theme.types';\n\nexport type ThemeRegistry = Record<string, UITheme>;\n\ntype ThemeContextValue = {\n  theme: UITheme;\n  themeKey: string;\n  themes: ThemeRegistry;\n  setThemeKey: (key: string) => void;\n  updateTheme: (\n    key: string,\n    value: UITheme | ((prev: UITheme) => UITheme)\n  ) => void;\n};\n\nconst ThemeContext = createContext<ThemeContextValue | null>(null);\n\nconst defaultThemes: ThemeRegistry = { default: {} };\n\nexport interface ThemeProviderProps {\n  themes?: ThemeRegistry;\n  defaultThemeKey?: string;\n  children?: ReactNode;\n}\n\nexport const ThemeProvider = ({\n  themes: themesProp,\n  defaultThemeKey = 'default',\n  children,\n}: ThemeProviderProps) => {\n  const [themes, setThemes] = useState<ThemeRegistry>(\n    () => themesProp ?? defaultThemes\n  );\n  const [themeKey, setThemeKeyState] = useState(defaultThemeKey);\n\n  const setThemeKey = useCallback((key: string) => {\n    setThemeKeyState(key);\n  }, []);\n\n  const updateTheme = useCallback(\n    (key: string, value: UITheme | ((prev: UITheme) => UITheme)) => {\n      setThemes((prev) => {\n        const next = { ...prev };\n        const prevTheme = next[key] ?? {};\n        next[key] =\n          typeof value === 'function' ? value(prevTheme) : value;\n        return next;\n      });\n    },\n    []\n  );\n\n  const theme = useMemo(\n    () => mergeTheme(baseTheme, themes[themeKey] ?? {}),\n    [themes, themeKey]\n  );\n\n  const value = useMemo<ThemeContextValue>(\n    () => ({\n      theme,\n      themeKey,\n      themes,\n      setThemeKey,\n      updateTheme,\n    }),\n    [theme, themeKey, themes, setThemeKey, updateTheme]\n  );\n\n  return (\n    <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = (): UITheme => {\n  const ctx = useContext(ThemeContext);\n  if (!ctx) return baseTheme;\n  return ctx.theme;\n};\n\nexport const useThemeKey = (): string => {\n  const ctx = useContext(ThemeContext);\n  if (!ctx) return 'default';\n  return ctx.themeKey;\n};\n\nexport const useThemeActions = (): {\n  setThemeKey: (key: string) => void;\n  updateTheme: (\n    key: string,\n    value: UITheme | ((prev: UITheme) => UITheme)\n  ) => void;\n} => {\n  const ctx = useContext(ThemeContext);\n  if (!ctx)\n    return {\n      setThemeKey: () => {},\n      updateTheme: () => {},\n    };\n  return { setThemeKey: ctx.setThemeKey, updateTheme: ctx.updateTheme };\n};\n\nexport const useThemeRegistry = (): ThemeContextValue => {\n  const ctx = useContext(ThemeContext);\n  if (!ctx)\n    return {\n      theme: baseTheme,\n      themeKey: 'default',\n      themes: defaultThemes,\n      setThemeKey: () => {},\n      updateTheme: () => {},\n    };\n  return ctx;\n};\n\nexport const useComponentTheme = (\n  componentKey: keyof UITheme,\n  variantKeys: string[] = []\n): string => {\n  const theme = useTheme();\n  const componentTheme = theme[componentKey];\n  if (!componentTheme || typeof componentTheme !== 'object') return '';\n\n  const base = (componentTheme as Record<string, string>).base ?? '';\n  const variants = variantKeys\n    .map((k) => (componentTheme as Record<string, string>)[k])\n    .filter(Boolean)\n    .join(' ');\n  return [base, variants].filter(Boolean).join(' ');\n};\n","import type { UIMessages } from './i18n.types';\r\n\r\n/** 기본 UI 메시지 (한국어). I18nProvider messages로 덮어쓸 수 있음. */\r\nexport const baseMessages: UIMessages = {\r\n  button: {\r\n    submit: '제출',\r\n    cancel: '취소',\r\n    confirm: '확인',\r\n    close: '닫기',\r\n    save: '저장',\r\n    delete: '삭제',\r\n    edit: '편집',\r\n    back: '뒤로',\r\n  },\r\n  input: {\r\n    placeholder: '입력하세요',\r\n    search: '검색',\r\n    clear: '지우기',\r\n  },\r\n  badge: {\r\n    new: '새 항목',\r\n    default: '기본',\r\n  },\r\n  modal: {\r\n    close: '닫기',\r\n    confirm: '확인',\r\n    cancel: '취소',\r\n    title: '알림',\r\n    description: '',\r\n  },\r\n  dropdown: {\r\n    placeholder: '선택하세요',\r\n    noOptions: '선택 항목 없음',\r\n    searchPlaceholder: '검색...',\r\n  },\r\n  tabs: {\r\n    next: '다음',\r\n    prev: '이전',\r\n  },\r\n  checkbox: {\r\n    label: '',\r\n  },\r\n  table: {\r\n    empty: '데이터가 없습니다',\r\n    loading: '로딩 중...',\r\n    noResults: '검색 결과가 없습니다',\r\n    pageInfo: '{{from}}-{{to}} / {{total}}',\r\n    rowsPerPage: '페이지당 행 수',\r\n    firstPage: '첫 페이지',\r\n    lastPage: '마지막 페이지',\r\n    nextPage: '다음 페이지',\r\n    prevPage: '이전 페이지',\r\n    // DataTable: 페이지네이션 버튼(짧은 형태)\r\n    first: '처음',\r\n    prev: '이전',\r\n    next: '다음',\r\n    last: '마지막',\r\n    // DataTable: 선택 체크박스 aria-label\r\n    selectAll: '전체 선택',\r\n    selectRow: '행 선택',\r\n  },\r\n};\r\n","import type { UIMessages } from './i18n.types';\r\n\r\nexport const mergeMessages = (base: UIMessages, override?: UIMessages | null): UIMessages => {\r\n  if (!override || typeof override !== 'object') return base;\r\n\r\n  const result: UIMessages = {};\r\n\r\n  for (const key of Object.keys(base)) {\r\n    const baseVal = base[key];\r\n    const overrideVal = override[key];\r\n\r\n    if (baseVal && typeof baseVal === 'object' && !Array.isArray(baseVal)) {\r\n      const overrideObj =\r\n        overrideVal && typeof overrideVal === 'object' && !Array.isArray(overrideVal)\r\n          ? overrideVal\r\n          : {};\r\n      result[key] = { ...baseVal, ...overrideObj };\r\n    } else {\r\n      result[key] = overrideVal !== undefined ? overrideVal : baseVal;\r\n    }\r\n  }\r\n\r\n  for (const key of Object.keys(override)) {\r\n    if (result[key] === undefined) {\r\n      result[key] = override[key];\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n","import { createContext, useContext, useMemo, type ReactNode } from 'react';\r\nimport { baseMessages } from './base-messages';\r\nimport type { UIMessages } from './i18n.types';\r\nimport { mergeMessages } from './merge-messages';\r\n\r\ntype I18nContextValue = UIMessages;\r\n\r\nconst replaceParams = (\r\n  template: string,\r\n  params?: Record<string, string | number>\r\n): string => {\r\n  if (!params) return template;\r\n  let out = template;\r\n  for (const [k, v] of Object.entries(params)) {\r\n    out = out.split(`{{${k}}}`).join(String(v));\r\n  }\r\n  return out;\r\n};\r\n\r\nconst I18nContext = createContext<I18nContextValue>(baseMessages);\r\n\r\nexport interface I18nProviderProps {\r\n  messages?: UIMessages | null;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const I18nProvider = ({ messages, children }: I18nProviderProps) => {\r\n  const value = useMemo(\r\n    () => (messages ? mergeMessages(baseMessages, messages) : baseMessages),\r\n    [messages]\r\n  );\r\n  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;\r\n};\r\n\r\nexport const useI18n = (): I18nContextValue => {\r\n  const ctx = useContext(I18nContext);\r\n  if (!ctx) return baseMessages;\r\n  return ctx;\r\n};\r\n\r\n\r\nexport const useMessage = (\r\n  componentKey: keyof UIMessages,\r\n  messageKey: string,\r\n  params?: Record<string, string | number>\r\n): string => {\r\n  const messages = useI18n();\r\n  const map = messages[componentKey];\r\n  const raw = (map && typeof map === 'object' && (map as Record<string, string>)[messageKey]) ?? '';\r\n  return typeof raw === 'string' ? replaceParams(raw, params) : '';\r\n};\r\n\r\n\r\nexport const useT = (): ((\r\n  key: string,\r\n  params?: Record<string, string | number>\r\n) => string) => {\r\n  const messages = useI18n();\r\n\r\n  return (key, params) => {\r\n    const dot = key.indexOf('.');\r\n    const componentKey = dot < 0 ? key : key.slice(0, dot);\r\n    const messageKey = dot < 0 ? '' : key.slice(dot + 1);\r\n\r\n    const map = messages[componentKey];\r\n    const raw =\r\n      (map && typeof map === 'object' && (map as Record<string, string>)[messageKey]) ?? '';\r\n    return typeof raw === 'string' ? replaceParams(raw, params) : '';\r\n  };\r\n};\r\n","import { forwardRef, type ButtonHTMLAttributes } from 'react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { resolveClassName } from '../../theme/resolveClassName';\nimport { cn } from '../../utils/cn';\nimport type { Stylable, ThemedComponent } from '../../types/common';\n\nexport type ButtonVariant = 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\nexport type ButtonSize = 'sm' | 'md' | 'lg';\n\nexport interface ButtonProps\n  extends Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'className'>, Stylable, ThemedComponent {\n  variant?: ButtonVariant;\n  size?: ButtonSize;\n  fullWidth?: boolean;\n}\n\nconst sizeMap = { sm: 'sizeSm', md: 'sizeMd', lg: 'sizeLg' } as const;\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant = 'primary',\n      size = 'md',\n      fullWidth,\n      className,\n      style,\n      theme: themeOverride,\n      disabled,\n      children,\n      ...rest\n    },\n    ref\n  ) => {\n    const globalTheme = useTheme();\n    const theme = themeOverride ? { ...globalTheme.button, ...themeOverride } : globalTheme.button;\n    const t = (theme ?? {}) as Record<string, string>;\n    const resolvedClassName = resolveClassName(className, globalTheme.custom);\n\n    const base = t.base ?? '';\n    const variantClass = t[variant] ?? '';\n    const sizeClass = t[sizeMap[size]] ?? '';\n\n    return (\n      <button\n        ref={ref}\n        type=\"button\"\n        disabled={disabled}\n        className={cn(base, variantClass, sizeClass, fullWidth && 'w-full', resolvedClassName)}\n        style={style}\n        {...rest}\n      >\n        {children}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n","import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport const cn = (...inputs: ClassValue[]): string => twMerge(clsx(inputs));\n","import { forwardRef, type InputHTMLAttributes } from 'react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { resolveClassName } from '../../theme/resolveClassName';\nimport { cn } from '../../utils/cn';\nimport type { Stylable, ThemedComponent } from '../../types/common';\n\nexport interface InputProps\n  extends Omit<InputHTMLAttributes<HTMLInputElement>, 'className'>, Stylable, ThemedComponent {\n  error?: boolean;\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, style, theme: themeOverride, error, ...rest }, ref) => {\n    const globalTheme = useTheme();\n    const theme = themeOverride ? { ...globalTheme.input, ...themeOverride } : globalTheme.input;\n    const t = (theme ?? {}) as Record<string, string>;\n    const resolvedClassName = resolveClassName(className, globalTheme.custom);\n\n    const base = t.base ?? '';\n    const errorClass = error ? (t.error ?? '') : '';\n\n    return (\n      <input ref={ref} className={cn(base, errorClass, resolvedClassName)} style={style} {...rest} />\n    );\n  }\n);\n\nInput.displayName = 'Input';\n","import { type HTMLAttributes } from 'react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { resolveClassName } from '../../theme/resolveClassName';\nimport type { Stylable, ThemedComponent } from '../../types/common';\nimport { cn } from '../../utils/cn';\n\nexport type BadgeVariant = 'default' | 'primary' | 'success' | 'warning' | 'danger';\n\nexport interface BadgeProps\n  extends Omit<HTMLAttributes<HTMLSpanElement>, 'className'>, Stylable, ThemedComponent {\n  variant?: BadgeVariant;\n  children?: React.ReactNode;\n}\n\nexport const Badge = ({\n  variant = 'default',\n  className,\n  style,\n  theme: themeOverride,\n  children,\n  ...rest\n}: BadgeProps) => {\n  const globalTheme = useTheme();\n  const theme = themeOverride ? { ...globalTheme.badge, ...themeOverride } : globalTheme.badge;\n  const t = (theme ?? {}) as Record<string, string>;\n  const resolvedClassName = resolveClassName(className, globalTheme.custom);\n\n  const base = t.base ?? '';\n  const variantClass = t[variant] ?? '';\n\n  return (\n    <span className={cn(base, variantClass, resolvedClassName)} style={style} {...rest}>\n      {children}\n    </span>\n  );\n};\n","import { Fragment, type ReactNode } from 'react';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { cn } from '../../utils/cn';\nimport type { Stylable, ThemedComponent } from '../../types/common';\n\nexport interface ModalProps extends Stylable, ThemedComponent {\n  open: boolean;\n  onClose: () => void;\n  title?: string;\n  description?: string;\n  children: ReactNode;\n  closeOnOverlayClick?: boolean;\n}\n\nexport const Modal = ({\n  open,\n  onClose,\n  title,\n  description,\n  children,\n  closeOnOverlayClick = true,\n  className,\n  style,\n  theme: themeOverride,\n}: ModalProps) => {\n  const globalTheme = useTheme();\n  const theme = themeOverride ? { ...globalTheme.modal, ...themeOverride } : globalTheme.modal;\n  const t = (theme ?? {}) as Record<string, string>;\n\n  return (\n    <Transition show={open} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-50\" onClose={closeOnOverlayClick ? onClose : () => {}}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-200\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-150\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className={cn('fixed inset-0', t.overlay)} />\n        </Transition.Child>\n        <div className=\"fixed inset-0 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-200\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-150\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <Dialog.Panel className={cn(t.panel, className)} style={style}>\n                {(title || description) && (\n                  <div className=\"p-4\">\n                    {title && <Dialog.Title className={t.title}>{title}</Dialog.Title>}\n                    {description && (\n                      <Dialog.Description className={t.description}>\n                        {description}\n                      </Dialog.Description>\n                    )}\n                  </div>\n                )}\n                <div className=\"p-4 pt-0\">{children}</div>\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n};\n","import { Fragment, type ReactNode } from 'react';\nimport { Menu, Transition } from '@headlessui/react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { cn } from '../../utils/cn';\nimport type { Stylable, ThemedComponent } from '../../types/common';\n\nexport interface DropdownItem {\n  key: string;\n  label: ReactNode;\n  onClick?: () => void;\n  disabled?: boolean;\n}\n\nexport interface DropdownProps extends Stylable, ThemedComponent {\n  trigger: ReactNode;\n  items: DropdownItem[];\n  selectedKey?: string | null;\n}\n\nexport const Dropdown = ({\n  trigger,\n  items,\n  selectedKey,\n  className,\n  style,\n  theme: themeOverride,\n}: DropdownProps) => {\n  const globalTheme = useTheme();\n  const theme = themeOverride\n    ? { ...globalTheme.dropdown, ...themeOverride }\n    : globalTheme.dropdown;\n  const t = (theme ?? {}) as Record<string, string>;\n\n  return (\n    <Menu as=\"div\" className=\"relative inline-block text-left\">\n      <Menu.Button className={cn(t.button, className)} style={style}>\n        {trigger}\n      </Menu.Button>\n      <Transition\n        as={Fragment}\n        enter=\"transition ease-out duration-100\"\n        enterFrom=\"transform opacity-0 scale-95\"\n        enterTo=\"transform opacity-100 scale-100\"\n        leave=\"transition ease-in duration-75\"\n        leaveFrom=\"transform opacity-100 scale-100\"\n        leaveTo=\"transform opacity-0 scale-95\"\n      >\n        <Menu.Items className={cn(t.menu, 'py-1')}>\n          {items.map((item) => (\n            <Menu.Item key={item.key} disabled={item.disabled}>\n              {({ active }) => (\n                <button\n                  type=\"button\"\n                  onClick={item.onClick}\n                  disabled={item.disabled}\n                  className={cn(t.item, (active || item.key === selectedKey) && t.itemActive)}\n                >\n                  {item.label}\n                </button>\n              )}\n            </Menu.Item>\n          ))}\n        </Menu.Items>\n      </Transition>\n    </Menu>\n  );\n};\n","import { Tab } from '@headlessui/react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { cn } from '../../utils/cn';\nimport type { Stylable, ThemedComponent } from '../../types/common';\n\nexport interface TabItem {\n  key: string;\n  label: React.ReactNode;\n  panel: React.ReactNode;\n}\n\nexport interface TabsProps extends Stylable, ThemedComponent {\n  items: TabItem[];\n  selectedIndex?: number;\n  defaultIndex?: number;\n  onChange?: (index: number) => void;\n}\n\nexport const Tabs = ({\n  items,\n  selectedIndex,\n  defaultIndex = 0,\n  onChange,\n  className,\n  style,\n  theme: themeOverride,\n}: TabsProps) => {\n  const globalTheme = useTheme();\n  const theme = themeOverride ? { ...globalTheme.tabs, ...themeOverride } : globalTheme.tabs;\n  const t = (theme ?? {}) as Record<string, string>;\n\n  return (\n    <Tab.Group\n      selectedIndex={selectedIndex}\n      defaultIndex={defaultIndex}\n      onChange={onChange}\n      className={className}\n      style={style}\n    >\n      <Tab.List className={t.list}>\n        {items.map((item) => (\n          <Tab key={item.key} className={({ selected }) => cn(t.tab, selected && t.tabActive)}>\n            {item.label}\n          </Tab>\n        ))}\n      </Tab.List>\n      <Tab.Panels className={t.panel}>\n        {items.map((item) => (\n          <Tab.Panel key={item.key}>{item.panel}</Tab.Panel>\n        ))}\n      </Tab.Panels>\n    </Tab.Group>\n  );\n};\n","import { forwardRef } from 'react';\nimport { useTheme } from '../../theme/ThemeContext';\nimport { cn } from '../../utils/cn';\nimport type { Stylable, ThemedComponent } from '../../types/common';\n\nexport interface CheckboxProps\n  extends\n    Omit<\n      React.InputHTMLAttributes<HTMLInputElement>,\n      'type' | 'onChange' | 'checked' | 'defaultChecked'\n    >,\n    Stylable,\n    ThemedComponent {\n  checked?: boolean;\n  defaultChecked?: boolean;\n  onChange?: (checked: boolean) => void;\n  label?: React.ReactNode;\n}\n\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  (\n    { checked, defaultChecked, onChange, label, className, style, theme: themeOverride, ...rest },\n    ref\n  ) => {\n    const globalTheme = useTheme();\n    const theme = themeOverride\n      ? { ...globalTheme.checkbox, ...themeOverride }\n      : globalTheme.checkbox;\n    const t = (theme ?? {}) as Record<string, string>;\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      onChange?.(e.target.checked);\n    };\n\n    return (\n      <label className=\"inline-flex items-center\" style={style}>\n        <input\n          ref={ref}\n          type=\"checkbox\"\n          checked={checked}\n          defaultChecked={defaultChecked}\n          onChange={handleChange}\n          className={cn(t.base, className)}\n          {...rest}\n        />\n        {label != null && <span className={t.label}>{label}</span>}\n      </label>\n    );\n  }\n);\n\nCheckbox.displayName = 'Checkbox';\n","import { createContext, useContext } from 'react';\r\nimport type { Table as TableInstance } from '@tanstack/react-table';\r\n\r\nexport type TableContextValue<TData = unknown> = TableInstance<TData> | null;\r\n\r\nconst TableContext = createContext<TableContextValue>(null);\r\n\r\nexport const useTableContext = <TData = unknown,>(): TableInstance<TData> => {\r\n  const table = useContext(TableContext);\r\n  if (!table) {\r\n    throw new Error('Table subcomponents must be used within a Table root.');\r\n  }\r\n  return table as TableInstance<TData>;\r\n};\r\n\r\nexport { TableContext };\r\n","import type { Table as TableInstance } from '@tanstack/react-table';\r\nimport { TableContext } from './TableContext';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport { cn } from '../../../utils/cn';\r\nimport type { Stylable, ThemedComponent } from '../../../types/common';\r\n\r\nexport interface TableProps<TData = unknown> extends Stylable, ThemedComponent {\r\n  /** TanStack Table instance from useReactTable() */\r\n  table: TableInstance<TData>;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst TableRoot = <TData,>({\r\n  table,\r\n  children,\r\n  className,\r\n  style,\r\n  theme: themeOverride,\r\n}: TableProps<TData>) => {\r\n  const globalTheme = useTheme();\r\n  const theme = themeOverride\r\n    ? { ...globalTheme.table, ...themeOverride }\r\n    : globalTheme.table;\r\n  const t = (theme ?? {}) as Record<string, string>;\r\n\r\n  return (\r\n    <TableContext.Provider value={table as TableInstance<unknown>}>\r\n      <div className={cn(t.wrapper, className)} style={style}>\r\n        <table className={t.root}>{children}</table>\r\n      </div>\r\n    </TableContext.Provider>\r\n  );\r\n};\r\n\r\nexport { TableRoot as Table };\r\n","import { useTableContext } from './TableContext';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport { cn } from '../../../utils/cn';\r\nimport type { Stylable } from '../../../types/common';\r\n\r\nexport interface TableHeadProps extends Stylable {\r\n  /** Optional: render only for specific header group index (default: all) */\r\n  headerGroupIndex?: number;\r\n}\r\n\r\nexport const TableHead = ({\r\n  className,\r\n  style,\r\n  headerGroupIndex,\r\n}: TableHeadProps) => {\r\n  const table = useTableContext();\r\n  const globalTheme = useTheme();\r\n  const theme = (globalTheme.table ?? {}) as Record<string, string>;\r\n\r\n  const groups = table.getHeaderGroups();\r\n  const groupsToRender =\r\n    headerGroupIndex !== undefined ? [groups[headerGroupIndex]] : groups;\r\n\r\n  return (\r\n    <thead className={cn(theme.head, className)} style={style}>\r\n      {groupsToRender.map(\r\n        (group) =>\r\n          group && (\r\n            <tr key={group.id} className={theme.headRow}>\r\n              {group.headers.map((header) => (\r\n                <th\r\n                  key={header.id}\r\n                  colSpan={header.colSpan}\r\n                  style={{ width: header.getSize() !== 150 ? header.getSize() : undefined }}\r\n                  className={cn(theme.headCell, (header.column.columnDef.meta as { className?: string })?.className)}\r\n                >\r\n                  {typeof header.column.columnDef.header === 'function'\r\n                    ? header.column.columnDef.header(header.getContext())\r\n                    : header.column.columnDef.header ?? null}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          )\r\n      )}\r\n    </thead>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport type { Row } from '@tanstack/react-table';\r\nimport { useTableContext } from './TableContext';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport { cn } from '../../../utils/cn';\r\nimport type { Stylable } from '../../../types/common';\r\n\r\nexport interface TableBodyProps extends Stylable {\r\n  children?: React.ReactNode;\r\n  /** Custom row renderer. If not provided, default cell rendering is used. */\r\n  renderRow?: (row: Row<unknown>) => React.ReactNode;\r\n}\r\n\r\nexport const TableBody = ({\r\n  className,\r\n  style,\r\n  children,\r\n  renderRow,\r\n}: TableBodyProps) => {\r\n  const table = useTableContext();\r\n  const globalTheme = useTheme();\r\n  const theme = (globalTheme.table ?? {}) as Record<string, string>;\r\n  const rows = table.getRowModel().rows;\r\n\r\n  if (children !== undefined) {\r\n    return (\r\n      <tbody className={cn(theme.body, className)} style={style}>\r\n        {children}\r\n      </tbody>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <tbody className={cn(theme.body, className)} style={style}>\r\n      {rows.map((row) =>\r\n        renderRow ? (\r\n          <React.Fragment key={row.id}>{renderRow(row)}</React.Fragment>\r\n        ) : (\r\n          <TableDefaultRow key={row.id} row={row} theme={theme} />\r\n        )\r\n      )}\r\n    </tbody>\r\n  );\r\n};\r\n\r\nconst TableDefaultRow = <TData,>({\r\n  row,\r\n  theme,\r\n}: {\r\n  row: Row<TData>;\r\n  theme: Record<string, string>;\r\n}) => {\r\n  return (\r\n    <tr\r\n      key={row.id}\r\n      className={theme.row}\r\n      data-state={row.getIsSelected() ? 'selected' : undefined}\r\n    >\r\n      {row.getVisibleCells().map((cell) => (\r\n        <td\r\n          key={cell.id}\r\n          style={{ width: cell.column.getSize() !== 150 ? cell.column.getSize() : undefined }}\r\n          className={cn(theme.cell, (cell.column.columnDef.meta as { className?: string })?.className)}\r\n        >\r\n          {typeof cell.column.columnDef.cell === 'function'\r\n            ? cell.column.columnDef.cell(cell.getContext())\r\n            : String(cell.getValue() ?? '')}\r\n        </td>\r\n      ))}\r\n    </tr>\r\n  );\r\n};\r\n","import type { ColumnDef, Row } from '@tanstack/react-table';\r\nimport { flexRender } from '@tanstack/react-table';\r\nimport { Table, TableBody } from '../Table';\r\nimport { useDataTable } from '../../../hooks/useDataTable';\r\nimport { IndeterminateCheckbox } from './IndeterminateCheckbox';\r\nimport { DataTableHead } from './DataTableHead';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport { useMessage } from '../../../i18n/I18nContext';\r\nimport { cn } from '../../../utils/cn';\r\nimport type { Stylable, ThemedComponent } from '../../../types/common';\r\n\r\nexport interface DataTableScrollOptions {\r\n  /** 스크롤 영역 최대 높이 (예: '400px', '60vh') */\r\n  maxHeight?: string;\r\n}\r\n\r\nexport interface DataTableProps<TData> extends Stylable, ThemedComponent {\r\n  /** 테이블 데이터 */\r\n  data: TData[];\r\n  /** 컬럼 정의 (TanStack Table ColumnDef). cell로 버튼/아이콘/링크 등 커스텀 렌더링 가능 */\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  columns: ColumnDef<TData, any>[];\r\n  /** 행 선택(체크박스) 사용 여부 */\r\n  selectable?: boolean;\r\n  /** 컬럼 클릭 정렬 사용 여부 */\r\n  sortable?: boolean;\r\n  /** 페이지네이션 사용 여부 */\r\n  pagination?: boolean;\r\n  /** 페이지당 행 수 */\r\n  pageSize?: number;\r\n  /** 행별 조건부 className (예: 특정 값이면 빨강) */\r\n  getRowClassName?: (row: Row<TData>) => string | undefined;\r\n  /** 행별 조건부 style */\r\n  getRowStyle?: (row: Row<TData>) => React.CSSProperties | undefined;\r\n  /** 선택 변경 시 콜백 */\r\n  onSelectionChange?: (selection: Record<string, boolean>) => void;\r\n  /** 스크롤 옵션 (많은 데이터 시 영역 고정) */\r\n  scroll?: DataTableScrollOptions;\r\n}\r\n\r\nconst createSelectionColumn = <TData,>(labels: {\r\n  selectAll: string;\r\n  selectRow: string;\r\n}): ColumnDef<TData, unknown> => ({\r\n  id: 'select',\r\n  size: 40,\r\n  maxSize: 40,\r\n  header: ({ table }) => (\r\n    <IndeterminateCheckbox\r\n      checked={table.getIsAllRowsSelected()}\r\n      indeterminate={table.getIsSomeRowsSelected()}\r\n      onChange={table.getToggleAllRowsSelectedHandler()}\r\n      aria-label={labels.selectAll}\r\n    />\r\n  ),\r\n  cell: ({ row }) => (\r\n    <IndeterminateCheckbox\r\n      checked={row.getIsSelected()}\r\n      onChange={row.getToggleSelectedHandler()}\r\n      disabled={!row.getCanSelect()}\r\n      aria-label={labels.selectRow}\r\n    />\r\n  ),\r\n  enableSorting: false,\r\n});\r\n\r\nexport const DataTable = <TData,>({\r\n  data,\r\n  columns,\r\n  selectable = false,\r\n  sortable = false,\r\n  pagination = false,\r\n  pageSize = 10,\r\n  getRowClassName,\r\n  getRowStyle,\r\n  onSelectionChange,\r\n  scroll,\r\n  className,\r\n  style,\r\n  theme: themeOverride,\r\n}: DataTableProps<TData>) => {\r\n  const globalTheme = useTheme();\r\n  const theme = themeOverride\r\n    ? { ...globalTheme.table, ...themeOverride }\r\n    : globalTheme.table;\r\n  const t = (theme ?? {}) as Record<string, string>;\r\n\r\n  const selectAllLabel = useMessage('table', 'selectAll');\r\n  const selectRowLabel = useMessage('table', 'selectRow');\r\n\r\n  const finalColumns = selectable\r\n    ? [createSelectionColumn<TData>({ selectAll: selectAllLabel, selectRow: selectRowLabel }), ...columns]\r\n    : columns;\r\n\r\n  const { table, getRowClassName: rowClassNameFn, getRowStyle: rowStyleFn, pagination: paginationState } = useDataTable(\r\n    data,\r\n    finalColumns,\r\n    {\r\n      selectable,\r\n      sortable,\r\n      pagination,\r\n      pageSize,\r\n      getRowClassName,\r\n      getRowStyle,\r\n      onSelectionChange,\r\n    }\r\n  );\r\n\r\n  const totalRows = table.getFilteredRowModel().rows.length;\r\n  const from = paginationState ? paginationState.pageIndex * pageSize + 1 : 0;\r\n  const to = paginationState ? Math.min((paginationState.pageIndex + 1) * pageSize, totalRows) : 0;\r\n\r\n  const pageInfoText = useMessage('table', 'pageInfo', {\r\n    from: String(from),\r\n    to: String(to),\r\n    total: String(totalRows),\r\n  });\r\n  const firstLabel = useMessage('table', 'first');\r\n  const prevLabel = useMessage('table', 'prev');\r\n  const nextLabel = useMessage('table', 'next');\r\n  const lastLabel = useMessage('table', 'last');\r\n\r\n  const tableEl = (\r\n    <Table table={table} className={className} style={style} theme={themeOverride}>\r\n      <DataTableHead sortable={sortable} />\r\n      <TableBody\r\n        renderRow={(row) => (\r\n          <tr\r\n            key={row.id}\r\n            className={cn(\r\n              t.row,\r\n              rowClassNameFn?.(row as Row<TData>),\r\n              row.getIsSelected() && 'data-[state=selected]'\r\n            )}\r\n            style={rowStyleFn?.(row as Row<TData>)}\r\n            data-state={row.getIsSelected() ? 'selected' : undefined}\r\n          >\r\n            {row.getVisibleCells().map((cell) => (\r\n              <td\r\n                key={cell.id}\r\n                style={{\r\n                  width: cell.column.getSize() !== 150 ? cell.column.getSize() : undefined,\r\n                }}\r\n                className={cn(\r\n                  t.cell,\r\n                  (cell.column.columnDef.meta as { className?: string })?.className\r\n                )}\r\n              >\r\n                {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        )}\r\n      />\r\n    </Table>\r\n  );\r\n\r\n  const content = scroll?.maxHeight ? (\r\n    <div\r\n      className=\"overflow-auto\"\r\n      style={{ maxHeight: scroll.maxHeight }}\r\n    >\r\n      {tableEl}\r\n    </div>\r\n  ) : (\r\n    tableEl\r\n  );\r\n\r\n  if (!paginationState) {\r\n    return content;\r\n  }\r\n\r\n  const p = paginationState;\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-2\">\r\n      {content}\r\n      <div className=\"flex items-center justify-between gap-2 px-1 text-sm text-gray-600\">\r\n        <span>{pageInfoText}</span>\r\n        <div className=\"flex gap-1\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={p.firstPage}\r\n            disabled={!p.canPrevPage}\r\n            className=\"rounded px-2 py-1 disabled:opacity-50 hover:bg-gray-100\"\r\n          >\r\n            {firstLabel}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={p.prevPage}\r\n            disabled={!p.canPrevPage}\r\n            className=\"rounded px-2 py-1 disabled:opacity-50 hover:bg-gray-100\"\r\n          >\r\n            {prevLabel}\r\n          </button>\r\n          <span className=\"flex items-center px-2\">\r\n            {p.pageIndex + 1} / {p.pageCount}\r\n          </span>\r\n          <button\r\n            type=\"button\"\r\n            onClick={p.nextPage}\r\n            disabled={!p.canNextPage}\r\n            className=\"rounded px-2 py-1 disabled:opacity-50 hover:bg-gray-100\"\r\n          >\r\n            {nextLabel}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={p.lastPage}\r\n            disabled={!p.canNextPage}\r\n            className=\"rounded px-2 py-1 disabled:opacity-50 hover:bg-gray-100\"\r\n          >\r\n            {lastLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  useReactTable,\r\n  getCoreRowModel,\r\n  getSortedRowModel,\r\n  getPaginationRowModel,\r\n  type ColumnDef,\r\n  type Row,\r\n  type RowSelectionState,\r\n  type OnChangeFn,\r\n  type SortingState,\r\n} from '@tanstack/react-table';\r\nimport type { CSSProperties } from 'react';\r\nimport { useMemo, useState } from 'react';\r\n\r\nexport interface UseDataTableOptions<TData> {\r\n  /** 행 선택(체크박스) 사용 여부 */\r\n  selectable?: boolean;\r\n  /** 컬럼 클릭 정렬 사용 여부 */\r\n  sortable?: boolean;\r\n  /** 페이지네이션 사용 여부 */\r\n  pagination?: boolean;\r\n  /** 페이지당 행 수 (pagination 시) */\r\n  pageSize?: number;\r\n  /** 행별 조건부 className (예: 특정 값이면 빨강) */\r\n  getRowClassName?: (row: Row<TData>) => string | undefined;\r\n  /** 행별 조건부 style */\r\n  getRowStyle?: (row: Row<TData>) => CSSProperties | undefined;\r\n  /** 선택 변경 시 콜백 (새 선택 상태) */\r\n  onSelectionChange?: (selection: RowSelectionState) => void;\r\n  /** 초기 정렬 상태 */\r\n  initialSorting?: SortingState;\r\n}\r\n\r\nexport interface UseDataTablePaginationState {\r\n  pageIndex: number;\r\n  pageCount: number;\r\n  setPageIndex: (index: number) => void;\r\n  nextPage: () => void;\r\n  prevPage: () => void;\r\n  firstPage: () => void;\r\n  lastPage: () => void;\r\n  canNextPage: boolean;\r\n  canPrevPage: boolean;\r\n}\r\n\r\nexport interface UseDataTableReturn<TData> {\r\n  table: ReturnType<typeof useReactTable<TData>>;\r\n  getRowClassName?: (row: Row<TData>) => string | undefined;\r\n  getRowStyle?: (row: Row<TData>) => React.CSSProperties | undefined;\r\n  pagination: UseDataTablePaginationState | null;\r\n}\r\n\r\nexport const useDataTable = <TData,>(\r\n  data: TData[],\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  columns: ColumnDef<TData, any>[],\r\n  options: UseDataTableOptions<TData> = {}\r\n): UseDataTableReturn<TData> => {\r\n  const {\r\n    selectable = false,\r\n    sortable = false,\r\n    pagination: usePagination = false,\r\n    pageSize: initialPageSize = 10,\r\n    getRowClassName,\r\n    getRowStyle,\r\n    onSelectionChange,\r\n    initialSorting,\r\n  } = options;\r\n\r\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>({});\r\n  const [sorting, setSorting] = useState<SortingState>(initialSorting ?? []);\r\n  const [pagination, setPagination] = useState({\r\n    pageIndex: 0,\r\n    pageSize: initialPageSize,\r\n  });\r\n\r\n  const handleRowSelectionChange: OnChangeFn<RowSelectionState> = (updater) => {\r\n    const next = typeof updater === 'function' ? updater(rowSelection) : updater;\r\n    setRowSelection(next);\r\n    onSelectionChange?.(next);\r\n  };\r\n\r\n  const enhancedColumns = useMemo(() => {\r\n    return columns.map((col) => ({\r\n      ...col,\r\n      enableSorting: sortable && (col.enableSorting !== false),\r\n    }));\r\n  }, [columns, sortable]);\r\n\r\n  const table = useReactTable({\r\n    data,\r\n    columns: enhancedColumns,\r\n    state: {\r\n      rowSelection: selectable ? rowSelection : {},\r\n      sorting: sortable ? sorting : undefined,\r\n      pagination: usePagination ? pagination : undefined,\r\n    },\r\n    onRowSelectionChange: selectable ? handleRowSelectionChange : undefined,\r\n    onSortingChange: sortable ? setSorting : undefined,\r\n    onPaginationChange: usePagination ? setPagination : undefined,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: sortable ? getSortedRowModel() : undefined,\r\n    getPaginationRowModel: usePagination ? getPaginationRowModel() : undefined,\r\n  });\r\n\r\n  const paginationState: UseDataTablePaginationState | null = usePagination\r\n    ? {\r\n        pageIndex: table.getState().pagination.pageIndex,\r\n        pageCount: table.getPageCount(),\r\n        setPageIndex: table.setPageIndex,\r\n        nextPage: table.nextPage,\r\n        prevPage: table.previousPage,\r\n        firstPage: () => table.setPageIndex(0),\r\n        lastPage: () => table.setPageIndex(table.getPageCount() - 1),\r\n        canNextPage: table.getCanNextPage(),\r\n        canPrevPage: table.getCanPreviousPage(),\r\n      }\r\n    : null;\r\n\r\n  return {\r\n    table,\r\n    getRowClassName,\r\n    getRowStyle,\r\n    pagination: paginationState,\r\n  };\r\n};\r\n","import { useEffect, useRef } from 'react';\r\nimport { Checkbox } from '../Checkbox';\r\n\r\nexport interface IndeterminateCheckboxProps {\r\n  checked?: boolean;\r\n  indeterminate?: boolean;\r\n  onChange?: (checked: boolean) => void;\r\n  disabled?: boolean;\r\n  'aria-label'?: string;\r\n}\r\n\r\nexport const IndeterminateCheckbox = ({\r\n  checked,\r\n  indeterminate,\r\n  onChange,\r\n  disabled,\r\n  'aria-label': ariaLabel,\r\n}: IndeterminateCheckboxProps) => {\r\n  const ref = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      ref.current.indeterminate = indeterminate ?? false;\r\n    }\r\n  }, [indeterminate]);\r\n\r\n  return (\r\n    <Checkbox\r\n      ref={ref}\r\n      checked={checked}\r\n      onChange={onChange}\r\n      disabled={disabled}\r\n      aria-label={ariaLabel}\r\n    />\r\n  );\r\n};\r\n","import { useTableContext } from '../Table/TableContext';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport { cn } from '../../../utils/cn';\r\nimport type { Stylable } from '../../../types/common';\r\n\r\nexport interface DataTableHeadProps extends Stylable {\r\n  /** 정렬 가능 헤더 사용 여부 (클릭 시 오름/내림차순) */\r\n  sortable?: boolean;\r\n}\r\n\r\nconst SortIcon = ({ direction }: { direction: 'asc' | 'desc' | false }) => {\r\n  if (direction === 'asc') return <span className=\"ml-1\">↑</span>;\r\n  if (direction === 'desc') return <span className=\"ml-1\">↓</span>;\r\n  return <span className=\"ml-1 opacity-40\">⇅</span>;\r\n};\r\n\r\nexport const DataTableHead = ({\r\n  className,\r\n  style,\r\n  sortable = false,\r\n}: DataTableHeadProps) => {\r\n  const table = useTableContext();\r\n  const globalTheme = useTheme();\r\n  const theme = (globalTheme.table ?? {}) as Record<string, string>;\r\n  const groups = table.getHeaderGroups();\r\n\r\n  return (\r\n    <thead className={cn(theme.head, className)} style={style}>\r\n      {groups.map(\r\n        (group) =>\r\n          group && (\r\n            <tr key={group.id} className={theme.headRow}>\r\n              {group.headers.map((header) => {\r\n                const canSort = sortable && header.column.getCanSort();\r\n                const content = (\r\n                  <>\r\n                    {typeof header.column.columnDef.header === 'function'\r\n                      ? header.column.columnDef.header(header.getContext())\r\n                      : header.column.columnDef.header ?? null}\r\n                    {canSort && (\r\n                      <SortIcon\r\n                        direction={header.column.getIsSorted() ?? false}\r\n                      />\r\n                    )}\r\n                  </>\r\n                );\r\n                return (\r\n                  <th\r\n                    key={header.id}\r\n                    colSpan={header.colSpan}\r\n                    style={{\r\n                      width: header.getSize() !== 150 ? header.getSize() : undefined,\r\n                    }}\r\n                    className={cn(\r\n                      theme.headCell,\r\n                      (header.column.columnDef.meta as { className?: string })\r\n                        ?.className,\r\n                      canSort && 'cursor-pointer select-none'\r\n                    )}\r\n                    onClick={canSort ? header.column.getToggleSortingHandler() : undefined}\r\n                  >\r\n                    {content}\r\n                  </th>\r\n                );\r\n              })}\r\n            </tr>\r\n          )\r\n      )}\r\n    </thead>\r\n  );\r\n};\r\n","import type { ColumnDef } from '@tanstack/react-table';\r\nimport { flexRender, getCoreRowModel, useReactTable } from '@tanstack/react-table';\r\nimport { useMemo } from 'react';\r\nimport { FormProvider, useForm } from 'react-hook-form';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport type { Stylable, ThemedComponent } from '../../../types/common';\r\nimport { cn } from '../../../utils/cn';\r\nimport { Table, TableBody, TableHead } from '../Table';\r\nimport { EditableCell } from './EditableCell';\r\nimport type { EditableColumnMeta } from './editableTable.types';\r\n\r\nexport interface EditableTableProps<TData> extends Stylable, ThemedComponent {\r\n  /** 테이블 데이터 (폼 초기값으로 사용) */\r\n  data: TData[];\r\n  /** 컬럼 정의. meta.editType으로 셀 편집 타입 지정 (text | number | date | checkbox | dropdown) */\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  columns: ColumnDef<TData, any>[];\r\n  /** 폼 제출 시 콜백 (편집된 rows 전달) */\r\n  onSubmit?: (data: { rows: TData[] }) => void;\r\n  /** 제출 버튼 문구. 지정 시 테이블 하단에 제출 버튼 렌더 (onSubmit과 함께 사용) */\r\n  submitLabel?: string;\r\n}\r\n\r\nconst createEditableColumns = <TData,>(\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  columns: ColumnDef<TData, any>[],\r\n  theme: Record<string, string>\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n): ColumnDef<TData, any>[] =>\r\n  columns.map((col) => {\r\n    const meta = (col.meta ?? {}) as EditableColumnMeta;\r\n    const editType = meta.editType;\r\n\r\n    if (!editType) {\r\n      return col;\r\n    }\r\n\r\n    return {\r\n      ...col,\r\n      cell: (ctx) => (\r\n        <EditableCell cell={ctx} editType={editType} editOptions={meta.editOptions} theme={theme} />\r\n      ),\r\n    };\r\n  });\r\n\r\nexport const EditableTable = <TData,>({\r\n  data,\r\n  columns,\r\n  onSubmit,\r\n  submitLabel,\r\n  className,\r\n  style,\r\n  theme: themeOverride,\r\n}: EditableTableProps<TData>) => {\r\n  const globalTheme = useTheme();\r\n  const theme = themeOverride ? { ...globalTheme.table, ...themeOverride } : globalTheme.table;\r\n  const t = (theme ?? {}) as Record<string, string>;\r\n\r\n  const methods = useForm<{ rows: TData[] }>({\r\n    defaultValues: { rows: data },\r\n    values: { rows: data },\r\n  });\r\n\r\n  const formRows = methods.watch('rows');\r\n\r\n  const editableColumns = useMemo(() => createEditableColumns(columns, t), [columns, t]);\r\n\r\n  const table = useReactTable({\r\n    data: formRows ?? data,\r\n    columns: editableColumns,\r\n    getCoreRowModel: getCoreRowModel(),\r\n  });\r\n\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <form\r\n        onSubmit={onSubmit ? methods.handleSubmit(onSubmit) : undefined}\r\n        className={cn('flex flex-col gap-2', className)}\r\n        style={style}\r\n      >\r\n        <Table table={table} theme={themeOverride}>\r\n          <TableHead />\r\n          <TableBody\r\n            renderRow={(row) => (\r\n              <tr\r\n                key={row.id}\r\n                className={t.row}\r\n                data-state={row.getIsSelected() ? 'selected' : undefined}\r\n              >\r\n                {row.getVisibleCells().map((cell) => {\r\n                  const meta = (cell.column.columnDef.meta ?? {}) as EditableColumnMeta;\r\n                  if (meta.editType) {\r\n                    return flexRender(cell.column.columnDef.cell, cell.getContext());\r\n                  }\r\n                  return (\r\n                    <td\r\n                      key={cell.id}\r\n                      style={{\r\n                        width: cell.column.getSize() !== 150 ? cell.column.getSize() : undefined,\r\n                      }}\r\n                      className={cn(t.cell, meta.className)}\r\n                    >\r\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                    </td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            )}\r\n          />\r\n        </Table>\r\n        {submitLabel && onSubmit && (\r\n          <button\r\n            type=\"submit\"\r\n            className={cn(\r\n              'self-end',\r\n              globalTheme?.button?.base,\r\n              globalTheme?.button?.primary\r\n            )}\r\n          >\r\n            {submitLabel}\r\n          </button>\r\n        )}\r\n      </form>\r\n    </FormProvider>\r\n  );\r\n};\r\n","import type { CellContext } from '@tanstack/react-table';\r\nimport type { FieldPath } from 'react-hook-form';\r\nimport { Controller, useFormContext } from 'react-hook-form';\r\nimport { useTheme } from '../../../theme/ThemeContext';\r\nimport { Input } from '../../atoms/Input';\r\nimport { Checkbox } from '../Checkbox';\r\nimport { cn } from '../../../utils/cn';\r\nimport type { EditableColumnMeta, EditType } from './editableTable.types';\r\n\r\nexport interface EditableCellProps<TData, TValue> {\r\n  cell: CellContext<TData, TValue>;\r\n  editType: EditType;\r\n  editOptions?: { value: string; label: string }[];\r\n  theme: Record<string, string>;\r\n}\r\n\r\nexport const EditableCell = <TData, TValue>({\r\n  cell,\r\n  editType,\r\n  editOptions = [],\r\n  theme,\r\n}: EditableCellProps<TData, TValue>) => {\r\n  const globalTheme = useTheme();\r\n  const { control } = useFormContext<{ rows: TData[] }>();\r\n  const inputTheme = (globalTheme?.input ?? {}) as Record<string, string>;\r\n  const selectClassName = cn('w-full', inputTheme.base);\r\n  const rowIndex = cell.row.index;\r\n  const columnId = cell.column.id;\r\n  const fieldName = `rows.${rowIndex}.${columnId}` as FieldPath<{ rows: TData[] }>;\r\n  const meta = (cell.column.columnDef.meta ?? {}) as EditableColumnMeta;\r\n\r\n  const cellClassName = cn(theme.cell, meta.className);\r\n\r\n  if (editType === 'checkbox') {\r\n    return (\r\n      <td style={{ width: cell.column.getSize() !== 150 ? cell.column.getSize() : undefined }} className={cellClassName}>\r\n        <Controller\r\n          name={fieldName}\r\n          control={control}\r\n          render={({ field }) => (\r\n            <Checkbox\r\n              checked={Boolean(field.value)}\r\n              onChange={field.onChange}\r\n              onBlur={field.onBlur}\r\n              ref={field.ref}\r\n              className=\"m-0\"\r\n            />\r\n          )}\r\n        />\r\n      </td>\r\n    );\r\n  }\r\n\r\n  if (editType === 'dropdown') {\r\n    return (\r\n      <td style={{ width: cell.column.getSize() !== 150 ? cell.column.getSize() : undefined }} className={cellClassName}>\r\n        <Controller\r\n          name={fieldName}\r\n          control={control}\r\n          render={({ field }) => (\r\n            <select\r\n              ref={field.ref}\r\n              value={String(field.value ?? '')}\r\n              onChange={(e) => field.onChange(e.target.value)}\r\n              onBlur={field.onBlur}\r\n              className={selectClassName}\r\n            >\r\n              {editOptions.map((opt) => (\r\n                <option key={opt.value} value={opt.value}>\r\n                  {opt.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          )}\r\n        />\r\n      </td>\r\n    );\r\n  }\r\n\r\n  const inputType = editType === 'number' ? 'number' : editType === 'date' ? 'date' : 'text';\r\n\r\n  return (\r\n    <td style={{ width: cell.column.getSize() !== 150 ? cell.column.getSize() : undefined }} className={cellClassName}>\r\n      <Controller\r\n        name={fieldName}\r\n        control={control}\r\n        render={({ field }) => (\r\n          <Input\r\n            type={inputType}\r\n            {...field}\r\n            value={field.value != null ? String(field.value) : ''}\r\n            onChange={(e) => {\r\n              const v = e.target.value;\r\n              if (editType === 'number') {\r\n                const num = e.target.value === '' ? undefined : Number(e.target.value);\r\n                field.onChange(Number.isNaN(num) ? v : num);\r\n              } else {\r\n                field.onChange(v);\r\n              }\r\n            }}\r\n            className=\"min-w-0\"\r\n          />\r\n        )}\r\n      />\r\n    </td>\r\n  );\r\n};\r\n","import { createContext, useContext, useRef, useEffect, useCallback, useMemo } from 'react';\r\nimport { useSyncExternalStore } from 'react';\r\nimport { createGridStore, type GridStoreApi } from './state/gridStore';\r\nimport type { RowData, ColumnDef } from './types';\r\n\r\nexport interface ExcelGridContextValue {\r\n  state: ReturnType<GridStoreApi['getState']>;\r\n  store: GridStoreApi;\r\n  gridRef: React.RefObject<HTMLDivElement | null>;\r\n  getOriginalRowIndexRef: React.MutableRefObject<((displayedRow: number) => number) | null>;\r\n  getEditingValue: () => string | undefined;\r\n  editable: boolean;\r\n  onChange?: (rowIndex: number, colIndex: number, value: unknown) => void;\r\n  sortable?: boolean;\r\n  searchPlaceholder?: string;\r\n  columnFilter?: boolean;\r\n  columnReorder?: boolean;\r\n  pagination?: { pageSize: number; page?: number; onPageChange?: (page: number) => void };\r\n  virtualScroll?: { rowHeight: number; maxHeight?: number };\r\n  pinnedRowCount?: number;\r\n  multiSelect?: boolean;\r\n  rowDraggable?: boolean;\r\n  onDropRows?: (rows: RowData[]) => void;\r\n  onAddRow?: () => void;\r\n  exportFileName?: string;\r\n  exportImportDelimiter?: string;\r\n  onImport?: (rows: RowData[]) => void;\r\n}\r\n\r\nconst ExcelGridContext = createContext<ExcelGridContextValue | null>(null);\r\n\r\nexport const useExcelGridState = (): ReturnType<GridStoreApi['getState']> => {\r\n  const ctx = useContext(ExcelGridContext);\r\n  if (!ctx) throw new Error('ExcelGrid subcomponents must be used within ExcelGrid.');\r\n  return ctx.state;\r\n};\r\n\r\nexport const useExcelGridRef = (): React.RefObject<HTMLDivElement | null> => {\r\n  const ctx = useContext(ExcelGridContext);\r\n  if (!ctx) throw new Error('ExcelGrid subcomponents must be used within ExcelGrid.');\r\n  return ctx.gridRef;\r\n};\r\n\r\nexport const useExcelGridOptions = (): ExcelGridContextValue => {\r\n  const ctx = useContext(ExcelGridContext);\r\n  if (!ctx) throw new Error('ExcelGrid subcomponents must be used within ExcelGrid.');\r\n  return ctx;\r\n};\r\n\r\nexport const useExcelGridOriginalRowIndexRef = (): ExcelGridContextValue['getOriginalRowIndexRef'] => {\r\n  const ctx = useContext(ExcelGridContext);\r\n  if (!ctx) throw new Error('ExcelGrid subcomponents must be used within ExcelGrid.');\r\n  return ctx.getOriginalRowIndexRef;\r\n};\r\n\r\ninterface ExcelGridProviderProps {\r\n  rows: RowData[];\r\n  columns: ColumnDef[];\r\n  editable?: boolean;\r\n  checkboxSelection?: boolean;\r\n  onSelectionChange?: (selectedRowIndices: number[]) => void;\r\n  sortable?: boolean;\r\n  searchPlaceholder?: string;\r\n  columnFilter?: boolean;\r\n  columnReorder?: boolean;\r\n  pagination?: { pageSize: number; page?: number; onPageChange?: (page: number) => void };\r\n  virtualScroll?: { rowHeight: number; maxHeight?: number };\r\n  pinnedRowCount?: number;\r\n  multiSelect?: boolean;\r\n  rowDraggable?: boolean;\r\n  onDropRows?: (rows: RowData[]) => void;\r\n  onAddRow?: () => void;\r\n  exportFileName?: string;\r\n  exportImportDelimiter?: string;\r\n  onImport?: (rows: RowData[]) => void;\r\n  onChange?: (rowIndex: number, colIndex: number, value: unknown) => void;\r\n  children: React.ReactNode;\r\n}\r\n\r\n/** 그리드별 독립 스토어 생성 + context 제공 */\r\nexport const ExcelGridProvider = ({\r\n  rows,\r\n  columns,\r\n  editable = false,\r\n  checkboxSelection = false,\r\n  onSelectionChange,\r\n  sortable = false,\r\n  searchPlaceholder,\r\n  columnFilter = false,\r\n  columnReorder = false,\r\n  pagination,\r\n  virtualScroll,\r\n  pinnedRowCount = 0,\r\n  multiSelect = false,\r\n  rowDraggable = false,\r\n  onDropRows,\r\n  onAddRow,\r\n  exportFileName,\r\n  exportImportDelimiter = ',',\r\n  onImport,\r\n  onChange,\r\n  children,\r\n}: ExcelGridProviderProps) => {\r\n  const gridRef = useRef<HTMLDivElement>(null);\r\n  const getOriginalRowIndexRef = useRef<((displayedRow: number) => number) | null>(null);\r\n\r\n  const storeRef = useRef<GridStoreApi | null>(null);\r\n  if (!storeRef.current) storeRef.current = createGridStore();\r\n  const store = storeRef.current;\r\n\r\n  const state = useSyncExternalStore(store.subscribe, store.getState, store.getState);\r\n\r\n  useEffect(() => {\r\n    store.initStore(rows, columns, { checkboxSelection, rowDraggable });\r\n  }, [rows, columns, checkboxSelection, rowDraggable, store]);\r\n\r\n  const getEditingValue = useCallback((): string | undefined => {\r\n    const root = gridRef.current;\r\n    const s = store.getState();\r\n    const ec = s.editingCell;\r\n    if (!root || !ec) return undefined;\r\n    const sel = `[data-row=\"${ec.row}\"][data-col=\"${ec.col}\"]`;\r\n    const input = root.querySelector<HTMLInputElement>(`input${sel}`);\r\n    if (input) return input.value;\r\n    const selectEl = root.querySelector<HTMLSelectElement>(`select${sel}`);\r\n    return selectEl?.value;\r\n  }, [store]);\r\n\r\n  const getOriginalRowIndex = useCallback((i: number) => getOriginalRowIndexRef.current?.(i) ?? i, []);\r\n\r\n  useEffect(() => {\r\n    onSelectionChange?.(state.selectedRowIndices);\r\n  }, [state.selectedRowIndices, onSelectionChange]);\r\n\r\n  const value: ExcelGridContextValue = useMemo(\r\n    () => ({\r\n      state,\r\n      store,\r\n      gridRef,\r\n      getOriginalRowIndexRef,\r\n      getEditingValue,\r\n      editable: !!editable,\r\n      onChange,\r\n      sortable,\r\n      searchPlaceholder,\r\n      columnFilter,\r\n      columnReorder,\r\n      pagination,\r\n      virtualScroll,\r\n      pinnedRowCount,\r\n      multiSelect,\r\n      rowDraggable,\r\n      onDropRows,\r\n      onAddRow,\r\n      exportFileName,\r\n      exportImportDelimiter,\r\n      onImport,\r\n    }),\r\n    [\r\n      state,\r\n      store,\r\n      getEditingValue,\r\n      editable,\r\n      onChange,\r\n      sortable,\r\n      searchPlaceholder,\r\n      columnFilter,\r\n      columnReorder,\r\n      pagination,\r\n      virtualScroll,\r\n      pinnedRowCount,\r\n      multiSelect,\r\n      rowDraggable,\r\n      onDropRows,\r\n      onAddRow,\r\n      exportFileName,\r\n      exportImportDelimiter,\r\n      onImport,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <ExcelGridContext.Provider value={value}>\r\n      {children}\r\n    </ExcelGridContext.Provider>\r\n  );\r\n};\r\n\r\nexport { ExcelGridContext };\r\n","import type { GridState, RowData, ColumnDef, SortDirection } from '../types';\r\n\r\nconst CHECKBOX_COLUMN: ColumnDef = {\r\n  field: '__checkbox__',\r\n  header: '',\r\n  width: 40,\r\n};\r\n\r\nexport const DRAG_HANDLE_COLUMN: ColumnDef = {\r\n  field: '__drag__',\r\n  header: '',\r\n  width: 28,\r\n};\r\n\r\ntype Listener = () => void;\r\n\r\nexport interface InitStoreOptions {\r\n  checkboxSelection?: boolean;\r\n  rowDraggable?: boolean;\r\n}\r\n\r\nexport interface GridStoreApi {\r\n  getState: () => GridState;\r\n  setState: (partial: Partial<GridState>) => void;\r\n  subscribe: (listener: Listener) => () => void;\r\n  initStore: (rows: RowData[], columns: ColumnDef[], options?: InitStoreOptions) => void;\r\n  getColumnOrder: () => number[];\r\n  setColumnOrder: (order: number[]) => void;\r\n  setColumnFilter: (colIndex: number, value: string) => void;\r\n  setSortBy: (col: number, dir: SortDirection) => void;\r\n  clearSort: () => void;\r\n  setSearchText: (text: string) => void;\r\n  setRows: (rows: RowData[]) => void;\r\n  toggleRowSelection: (rowIndex: number) => void;\r\n  toggleAllRowsSelection: (displayedRowCount: number) => void;\r\n  setSelectedRowIndices: (indices: number[]) => void;\r\n}\r\n\r\n/** 그리드별 독립 스토어 생성 (한 페이지에 여러 ExcelGrid 사용 시 각각 다른 데이터/상태 유지) */\r\nexport const createGridStore = (): GridStoreApi => {\r\n  let state: GridState = {\r\n    rows: [],\r\n    columns: [],\r\n    focusedCell: null,\r\n    selectedRange: null,\r\n    editingCell: null,\r\n    selectedRowIndices: [],\r\n    sortBy: null,\r\n    searchText: '',\r\n    columnFilters: {},\r\n    columnOrder: [],\r\n  };\r\n\r\n  const listeners = new Set<Listener>();\r\n  const emit = (): void => {\r\n    listeners.forEach((l) => l());\r\n  };\r\n\r\n  return {\r\n    getState: () => state,\r\n    setState: (partial) => {\r\n      state = { ...state, ...partial };\r\n      emit();\r\n    },\r\n    subscribe: (listener) => {\r\n      listeners.add(listener);\r\n      return () => {\r\n        listeners.delete(listener);\r\n      };\r\n    },\r\n    initStore: (rows, columns, options = {}) => {\r\n      const withCheckbox =\r\n        options.checkboxSelection === true ? [CHECKBOX_COLUMN, ...columns] : columns;\r\n      const displayColumns =\r\n        options.rowDraggable === true ? [DRAG_HANDLE_COLUMN, ...withCheckbox] : withCheckbox;\r\n      const dataLen = options.checkboxSelection ? columns.length : columns.length;\r\n      const columnOrder = Array.from({ length: dataLen }, (_, i) => i);\r\n      state = {\r\n        rows: [...rows],\r\n        columns: displayColumns,\r\n        focusedCell: null,\r\n        selectedRange: null,\r\n        editingCell: null,\r\n        selectedRowIndices: [],\r\n        sortBy: null,\r\n        searchText: '',\r\n        columnFilters: {},\r\n        columnOrder,\r\n      };\r\n      emit();\r\n    },\r\n    getColumnOrder: () => state.columnOrder,\r\n    setColumnOrder: (order) => {\r\n      state = { ...state, columnOrder: order };\r\n      emit();\r\n    },\r\n    setColumnFilter: (colIndex, value) => {\r\n      const next = { ...state.columnFilters, [colIndex]: value };\r\n      if (!value.trim()) delete next[colIndex];\r\n      state = { ...state, columnFilters: next };\r\n      emit();\r\n    },\r\n    setSortBy: (col, dir) => {\r\n      state = { ...state, sortBy: { col, dir } };\r\n      emit();\r\n    },\r\n    clearSort: () => {\r\n      state = { ...state, sortBy: null };\r\n      emit();\r\n    },\r\n    setSearchText: (text) => {\r\n      state = { ...state, searchText: text };\r\n      emit();\r\n    },\r\n    setRows: (rows) => {\r\n      state = { ...state, rows: [...rows] };\r\n      emit();\r\n    },\r\n    toggleRowSelection: (rowIndex) => {\r\n      const set = new Set(state.selectedRowIndices);\r\n      if (set.has(rowIndex)) set.delete(rowIndex);\r\n      else set.add(rowIndex);\r\n      state = { ...state, selectedRowIndices: Array.from(set) };\r\n      emit();\r\n    },\r\n    toggleAllRowsSelection: (displayedRowCount) => {\r\n      const current = state.selectedRowIndices.length;\r\n      const allSelected = current === displayedRowCount && displayedRowCount > 0;\r\n      state = {\r\n        ...state,\r\n        selectedRowIndices: allSelected ? [] : Array.from({ length: displayedRowCount }, (_, i) => i),\r\n      };\r\n      emit();\r\n    },\r\n    setSelectedRowIndices: (indices) => {\r\n      state = { ...state, selectedRowIndices: [...indices] };\r\n      emit();\r\n    },\r\n  };\r\n};\r\n","import { useEffect, useMemo, useCallback, useState, useRef } from 'react';\r\nimport { useExcelGridState, useExcelGridRef, useExcelGridOptions, useExcelGridOriginalRowIndexRef } from './ExcelGridContext';\r\nimport { GridRoot } from './core/GridRoot';\r\nimport { GridViewport } from './core/GridViewport';\r\nimport { GridBody } from './core/GridBody';\r\nimport { getDisplayedRows } from './model/sortFilterModel';\r\nimport { getDisplayColumns, getPinnedOffset } from './model/columnModel';\r\nimport { createKeyDownHandler } from './controller/keyboard';\r\nimport { createPointerHandlers } from './controller/mouse';\r\nimport { exportTableToText, downloadTableAsFile, importTableFromText } from './utils/exportImport';\r\nimport { Checkbox } from '../Checkbox';\r\nimport { IndeterminateCheckbox } from '../DataTable/IndeterminateCheckbox';\r\nimport { Input } from '../../atoms/Input';\r\nimport { Button } from '../../atoms/Button';\r\nimport { cn } from '../../../utils/cn';\r\n\r\n/** display 컬럼 인덱스 → 데이터 컬럼 인덱스 (필터/정렬 등에 사용) */\r\nconst getDataColIndexFromDisplay = (\r\n  displayColIndex: number,\r\n  displayColumns: import('./types').ColumnDef[],\r\n  dataCols: import('./types').ColumnDef[]\r\n): number => {\r\n  const col = displayColumns[displayColIndex];\r\n  if (!col || col.field === '__checkbox__' || col.field === '__drag__') return -1;\r\n  return dataCols.findIndex((c) => c.field === col.field);\r\n};\r\n\r\n/** Context에서 state/ref 읽어서 core 조립 + controller 바인딩만. */\r\nexport const ExcelGridInner = ({\r\n  className,\r\n  style,\r\n}: {\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}) => {\r\n  const state = useExcelGridState();\r\n  const gridRef = useExcelGridRef();\r\n  const opts = useExcelGridOptions();\r\n  const getOriginalRowIndexRef = useExcelGridOriginalRowIndexRef();\r\n  const { store } = opts;\r\n  const [page, setPage] = useState(1);\r\n  const [columnDragIndex, setColumnDragIndex] = useState<number | null>(null);\r\n\r\n  const handleKeyDown = useMemo(\r\n    () =>\r\n      createKeyDownHandler({\r\n        store,\r\n        editable: opts.editable,\r\n        onChange: opts.onChange,\r\n        getEditingValue: opts.getEditingValue,\r\n        getOriginalRowIndex: (i) => getOriginalRowIndexRef.current?.(i) ?? i,\r\n      }),\r\n    [store, opts.editable, opts.onChange, opts.getEditingValue]\r\n  );\r\n\r\n  const pointerHandlers = useMemo(\r\n    () => createPointerHandlers(store, { editable: opts.editable }),\r\n    [store, opts.editable]\r\n  );\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\r\n  const headerScrollRef = useRef<HTMLDivElement>(null);\r\n  const selectionAnchorRef = useRef<number | null>(null);\r\n  const [scrollState, setScrollState] = useState({ scrollTop: 0, containerHeight: 400 });\r\n\r\n  const displayColumns = useMemo(\r\n    () => getDisplayColumns(state.columns, state.columnOrder),\r\n    [state.columns, state.columnOrder]\r\n  );\r\n\r\n  const displayedRows = useMemo(\r\n    () =>\r\n      getDisplayedRows(\r\n        state.rows,\r\n        displayColumns,\r\n        state.searchText,\r\n        state.sortBy,\r\n        state.columnFilters\r\n      ),\r\n    [state.rows, displayColumns, state.searchText, state.sortBy, state.columnFilters]\r\n  );\r\n\r\n  const pagination = opts.pagination;\r\n  const pageSize = pagination?.pageSize ?? displayedRows.length;\r\n  const totalPages = Math.max(1, Math.ceil(displayedRows.length / pageSize));\r\n  const currentPage = pagination?.page ?? page;\r\n  const setCurrentPage = pagination?.onPageChange ?? setPage;\r\n\r\n  const virtualScrollOpts = opts.virtualScroll;\r\n  const useVirtualScroll = Boolean(virtualScrollOpts);\r\n  const rowHeight = virtualScrollOpts?.rowHeight ?? 32;\r\n  const maxScrollHeight = virtualScrollOpts?.maxHeight ?? 400;\r\n\r\n  const paginatedRows = useMemo(() => {\r\n    if (useVirtualScroll) return displayedRows;\r\n    if (!pagination || displayedRows.length <= pageSize) return displayedRows;\r\n    const start = (currentPage - 1) * pageSize;\r\n    return displayedRows.slice(start, start + pageSize);\r\n  }, [displayedRows, pagination, pageSize, currentPage, useVirtualScroll]);\r\n\r\n  const totalVirtualRows = useVirtualScroll ? displayedRows.length : paginatedRows.length;\r\n  const virtualStart = useVirtualScroll\r\n    ? Math.max(0, Math.floor(scrollState.scrollTop / rowHeight))\r\n    : 0;\r\n  const virtualEnd = useVirtualScroll\r\n    ? Math.min(\r\n        totalVirtualRows,\r\n        virtualStart + Math.ceil(scrollState.containerHeight / rowHeight) + 2\r\n      )\r\n    : totalVirtualRows;\r\n  const virtualSlice = useVirtualScroll ? displayedRows.slice(virtualStart, virtualEnd) : paginatedRows;\r\n  const virtualStartRowIndex = useVirtualScroll ? virtualStart : (pagination ? (currentPage - 1) * pageSize : 0);\r\n\r\n  const hasCheckboxColumn = displayColumns.some((c) => c.field === '__checkbox__');\r\n  const hasDragColumn = displayColumns.some((c) => c.field === '__drag__');\r\n  const columnOrder = state.columnOrder;\r\n  const dataCols = useMemo(\r\n    () => state.columns.filter((c) => c.field !== '__checkbox__' && c.field !== '__drag__'),\r\n    [state.columns]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getOriginalRowIndexRef.current = (i: number) => {\r\n      const idx = virtualStartRowIndex + i;\r\n      return displayedRows[idx]?.originalIndex ?? idx;\r\n    };\r\n    return () => {\r\n      getOriginalRowIndexRef.current = null;\r\n    };\r\n  }, [virtualStartRowIndex, displayedRows, getOriginalRowIndexRef]);\r\n\r\n  const handleScroll = useCallback(() => {\r\n    const el = scrollContainerRef.current;\r\n    if (!el) return;\r\n    if (useVirtualScroll) setScrollState({ scrollTop: el.scrollTop, containerHeight: el.clientHeight });\r\n    if (headerScrollRef.current) headerScrollRef.current.scrollLeft = el.scrollLeft;\r\n  }, [useVirtualScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!useVirtualScroll) return;\r\n    const el = scrollContainerRef.current;\r\n    if (!el) return;\r\n    const ro = new ResizeObserver(() => setScrollState((s) => ({ ...s, containerHeight: el.clientHeight })));\r\n    ro.observe(el);\r\n    return () => ro.disconnect();\r\n  }, [useVirtualScroll]);\r\n\r\n  useEffect(() => {\r\n    const onPointerUp = () => pointerHandlers.handlePointerUp();\r\n    window.addEventListener('pointerup', onPointerUp);\r\n    return () => window.removeEventListener('pointerup', onPointerUp);\r\n  }, [pointerHandlers]);\r\n\r\n  const { focusedCell, selectedRange, editingCell, selectedRowIndices, sortBy } = state;\r\n  const rowsToShow = virtualSlice.map((d) => d.row);\r\n\r\n  useEffect(() => {\r\n    if (!editingCell || !gridRef.current) return;\r\n    const sel = `[data-row=\"${editingCell.row}\"][data-col=\"${editingCell.col}\"]`;\r\n    const input = gridRef.current.querySelector<HTMLInputElement>(`input${sel}`);\r\n    if (input) {\r\n      input.focus();\r\n      return;\r\n    }\r\n    const selectEl = gridRef.current.querySelector<HTMLSelectElement>(`select${sel}`);\r\n    selectEl?.focus();\r\n  }, [editingCell, gridRef]);\r\n\r\n  const handleHeaderSort = useCallback((colIndex: number) => {\r\n    if (!opts.sortable) return;\r\n    if (!sortBy || sortBy.col !== colIndex) store.setSortBy(colIndex, 'asc');\r\n    else if (sortBy.dir === 'asc') store.setSortBy(colIndex, 'desc');\r\n    else store.clearSort();\r\n  }, [sortBy, opts.sortable, store]);\r\n\r\n  const handleExport = useCallback(() => {\r\n    const dataCols = displayColumns.filter((c) => c.field !== '__checkbox__' && c.field !== '__drag__');\r\n    const content = exportTableToText(state.rows, dataCols, {\r\n      delimiter: opts.exportImportDelimiter ?? ',',\r\n    });\r\n    downloadTableAsFile(content, opts.exportFileName ?? 'export.csv');\r\n  }, [state.rows, displayColumns, opts.exportFileName, opts.exportImportDelimiter]);\r\n\r\n  const handleImport = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const file = e.target.files?.[0];\r\n      if (!file || !opts.onImport) return;\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        const text = String(reader.result ?? '');\r\n        const dataCols = displayColumns.filter((c) => c.field !== '__checkbox__' && c.field !== '__drag__');\r\n        const rows = importTableFromText(text, dataCols, {\r\n          delimiter: opts.exportImportDelimiter ?? ',',\r\n        });\r\n        opts.onImport(rows);\r\n      };\r\n      reader.readAsText(file, 'UTF-8');\r\n      e.target.value = '';\r\n    },\r\n    [opts.onImport, opts.exportImportDelimiter, displayColumns]\r\n  );\r\n\r\n  const handleColumnDragStart = (displayIndex: number) => setColumnDragIndex(displayIndex);\r\n  const handleColumnDragOver = (e: React.DragEvent, displayIndex: number) => {\r\n    e.preventDefault();\r\n    if (columnDragIndex == null || columnDragIndex === displayIndex) return;\r\n    const dataDisplayCols = displayColumns.filter((c) => c.field !== '__checkbox__' && c.field !== '__drag__');\r\n    const metaCount = (hasDragColumn ? 1 : 0) + (hasCheckboxColumn ? 1 : 0);\r\n    const from = columnDragIndex - metaCount;\r\n    const to = displayIndex - metaCount;\r\n    if (from < 0 || to < 0 || from >= dataDisplayCols.length || to >= dataDisplayCols.length) return;\r\n    const next = [...dataDisplayCols];\r\n    const [removed] = next.splice(from, 1);\r\n    next.splice(to, 0, removed);\r\n    const newColumnOrder = next.map((c) => dataCols.findIndex((x) => x.field === c.field)).filter((i) => i >= 0);\r\n    if (newColumnOrder.length === dataCols.length) store.setColumnOrder(newColumnOrder);\r\n    setColumnDragIndex(displayIndex);\r\n  };\r\n  const handleColumnDragEnd = () => setColumnDragIndex(null);\r\n\r\n  const handleDropRows = useCallback(\r\n    (e: React.DragEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      const raw = e.dataTransfer.getData('application/x-excelgrid-rows');\r\n      if (!raw || !opts.onDropRows) return;\r\n      try {\r\n        const rows = JSON.parse(raw) as import('./types').RowData[];\r\n        if (Array.isArray(rows) && rows.length > 0) opts.onDropRows(rows);\r\n      } catch {\r\n        // ignore\r\n      }\r\n    },\r\n    [opts.onDropRows]\r\n  );\r\n  const handleDragOverRows = useCallback((e: React.DragEvent) => {\r\n    if (!e.dataTransfer.types.includes('application/x-excelgrid-rows')) return;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    e.dataTransfer.dropEffect = 'copy';\r\n  }, []);\r\n\r\n  const handleMultiSelectRow = useCallback(\r\n    (rowIndex: number, e: React.MouseEvent) => {\r\n      const anchor = selectionAnchorRef.current;\r\n      if (e.shiftKey) {\r\n        const from = anchor != null ? Math.min(anchor, rowIndex) : 0;\r\n        const to = anchor != null ? Math.max(anchor, rowIndex) : rowIndex;\r\n        const indices = Array.from({ length: to - from + 1 }, (_, i) => from + i).filter(\r\n          (i) => i >= 0 && i < totalVirtualRows\r\n        );\r\n        store.setSelectedRowIndices(indices);\r\n      } else if (e.ctrlKey || e.metaKey) {\r\n        const set = new Set(state.selectedRowIndices);\r\n        if (set.has(rowIndex)) set.delete(rowIndex);\r\n        else set.add(rowIndex);\r\n        store.setSelectedRowIndices(Array.from(set));\r\n        selectionAnchorRef.current = rowIndex;\r\n      } else {\r\n        store.setSelectedRowIndices([rowIndex]);\r\n        selectionAnchorRef.current = rowIndex;\r\n      }\r\n    },\r\n    [totalVirtualRows, state.selectedRowIndices, store]\r\n  );\r\n\r\n  const getRowsForIndices = useCallback(\r\n    (indices: number[]) =>\r\n      indices\r\n        .map((i) => displayedRows[i]?.row)\r\n        .filter((r): r is import('./types').RowData => r != null),\r\n    [displayedRows]\r\n  );\r\n\r\n  const pinnedRowCount = opts.pinnedRowCount ?? 0;\r\n\r\n  return (\r\n    <GridRoot className={className} style={style}>\r\n      <div className=\"flex flex-wrap items-center gap-2 mb-2\">\r\n        {opts.searchPlaceholder != null && (\r\n          <Input\r\n            type=\"search\"\r\n            placeholder={opts.searchPlaceholder}\r\n            value={state.searchText}\r\n            onChange={(e) => store.setSearchText(e.target.value)}\r\n            className=\"max-w-xs\"\r\n          />\r\n        )}\r\n        {opts.onAddRow && (\r\n          <Button type=\"button\" variant=\"secondary\" size=\"sm\" onClick={opts.onAddRow}>\r\n            행 추가\r\n          </Button>\r\n        )}\r\n        {opts.exportFileName && (\r\n          <>\r\n            <Button type=\"button\" variant=\"secondary\" size=\"sm\" onClick={handleExport}>\r\n              Export\r\n            </Button>\r\n            {opts.onImport && (\r\n              <>\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\".csv,.txt\"\r\n                  className=\"hidden\"\r\n                  onChange={handleImport}\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"secondary\"\r\n                  size=\"sm\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                >\r\n                  Import\r\n                </Button>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <GridViewport\r\n        ref={gridRef as React.RefObject<HTMLDivElement>}\r\n        onKeyDown={handleKeyDown}\r\n        onPointerDown={pointerHandlers.handlePointerDown}\r\n        onPointerMove={pointerHandlers.handlePointerMove}\r\n        onPointerUp={pointerHandlers.handlePointerUp}\r\n        onDoubleClick={pointerHandlers.handleDoubleClick}\r\n      >\r\n        <div\r\n          className=\"flex flex-col border border-gray-200 rounded overflow-hidden\"\r\n          style={\r\n            useVirtualScroll\r\n              ? { maxHeight: maxScrollHeight, minHeight: 0 }\r\n              : undefined\r\n          }\r\n        >\r\n          {/* 헤더: 스크롤 영역 밖 고정. 가로 스크롤은 body와 동기화 */}\r\n          <div\r\n            ref={headerScrollRef}\r\n            className=\"bg-gray-100 overflow-x-auto overflow-y-hidden shrink-0\"\r\n            style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\r\n          >\r\n            <table className=\"w-full border-collapse\" style={{ tableLayout: 'fixed' }}>\r\n              <colgroup>\r\n                {displayColumns.map((col, i) => (\r\n                  <col key={col.field} style={col.width != null ? { width: col.width, minWidth: col.width } : undefined} />\r\n                ))}\r\n              </colgroup>\r\n              <thead>\r\n                <tr>\r\n                  {displayColumns.map((col, colIndex) => {\r\n                    const leftPx = col.pinned === 'left' ? getPinnedOffset(displayColumns, colIndex, 'left') : undefined;\r\n                    const rightPx = col.pinned === 'right' ? getPinnedOffset(displayColumns, colIndex, 'right') : undefined;\r\n                    const stickyStyle: React.CSSProperties =\r\n                      leftPx !== undefined\r\n                        ? { position: 'sticky', left: leftPx, zIndex: 11, background: '#f3f4f6', boxShadow: '2px 0 2px -2px rgba(0,0,0,0.1)' }\r\n                        : rightPx !== undefined\r\n                          ? { position: 'sticky', right: rightPx, zIndex: 11, background: '#f3f4f6', boxShadow: '-2px 0 2px -2px rgba(0,0,0,0.1)' }\r\n                          : {};\r\n                    const isMetaCol = col.field === '__checkbox__' || col.field === '__drag__';\r\n                    return (\r\n                      <th\r\n                        key={`${col.field}-${colIndex}`}\r\n                        className={cn(\r\n                          'border-b border-r border-gray-200 px-2 py-2 text-left text-xs font-medium text-gray-700',\r\n                          opts.sortable && !isMetaCol && 'cursor-pointer select-none hover:bg-gray-200',\r\n                          opts.columnReorder && !isMetaCol && 'cursor-grab',\r\n                          columnDragIndex === colIndex && 'opacity-50'\r\n                        )}\r\n                        style={{\r\n                          ...(col.width != null ? { width: col.width, minWidth: col.width } : {}),\r\n                          ...stickyStyle,\r\n                        }}\r\n                        onClick={\r\n                          opts.sortable && !isMetaCol\r\n                            ? () => handleHeaderSort(colIndex)\r\n                            : undefined\r\n                        }\r\n                        draggable={opts.columnReorder && !isMetaCol}\r\n                        onDragStart={() => opts.columnReorder && handleColumnDragStart(colIndex)}\r\n                        onDragOver={(e) => opts.columnReorder && handleColumnDragOver(e, colIndex)}\r\n                        onDragEnd={handleColumnDragEnd}\r\n                      >\r\n                        {col.field === '__drag__' ? (\r\n                          <span className=\"inline-block w-4 h-4 text-gray-400\" aria-hidden>⋮⋮</span>\r\n                        ) : col.field === '__checkbox__' ? (\r\n                          hasCheckboxColumn && (\r\n                            <div onClick={(e) => e.stopPropagation()}>\r\n                              <IndeterminateCheckbox\r\n                                checked={totalVirtualRows > 0 && selectedRowIndices.length === totalVirtualRows}\r\n                                indeterminate={selectedRowIndices.length > 0 && selectedRowIndices.length < totalVirtualRows}\r\n                                onChange={() => store.toggleAllRowsSelection(totalVirtualRows)}\r\n                                aria-label=\"전체 선택\"\r\n                              />\r\n                            </div>\r\n                          )\r\n                        ) : (\r\n                          <div className=\"flex flex-col gap-1\">\r\n                            <span className=\"inline-flex items-center gap-1\">\r\n                              {col.header ?? col.field}\r\n                              {opts.sortable && sortBy?.col === colIndex && (\r\n                                <span className=\"text-blue-600\" aria-hidden>\r\n                                  {sortBy.dir === 'asc' ? '▲' : '▼'}\r\n                                </span>\r\n                              )}\r\n                            </span>\r\n                            {opts.columnFilter && (\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder=\"필터...\"\r\n                                value={state.columnFilters[getDataColIndexFromDisplay(colIndex, displayColumns, dataCols)] ?? ''}\r\n                                onChange={(e) => store.setColumnFilter(getDataColIndexFromDisplay(colIndex, displayColumns, dataCols), e.target.value)}\r\n                                onClick={(e) => e.stopPropagation()}\r\n                                className=\"w-full text-xs border border-gray-300 rounded px-1 py-0.5\"\r\n                              />\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </th>\r\n                    );\r\n                  })}\r\n                </tr>\r\n              </thead>\r\n            </table>\r\n          </div>\r\n\r\n          {/* 스크롤은 항상 table body 영역에서만. 가로 스크롤 시 헤더와 동기화 */}\r\n          <div\r\n            ref={scrollContainerRef}\r\n            onScroll={handleScroll}\r\n            className=\"flex-1 min-h-0 overflow-auto\"\r\n          >\r\n            <table className=\"w-full border-collapse border-t-0\" style={useVirtualScroll ? { tableLayout: 'fixed' } : undefined}>\r\n              <colgroup>\r\n                {displayColumns.map((col) => (\r\n                  <col key={col.field} style={col.width != null ? { width: col.width, minWidth: col.width } : undefined} />\r\n                ))}\r\n              </colgroup>\r\n              <GridBody\r\n                rows={rowsToShow}\r\n                columns={displayColumns}\r\n                focusedCell={focusedCell}\r\n                selectedRange={selectedRange}\r\n                editingCell={editingCell}\r\n                checkboxSelection={hasCheckboxColumn}\r\n                selectedRowIndices={selectedRowIndices}\r\n                onToggleRowSelection={store.toggleRowSelection}\r\n                pinnedRowCount={pinnedRowCount}\r\n                startRowIndex={virtualStartRowIndex}\r\n                virtualScroll={\r\n                  useVirtualScroll\r\n                    ? {\r\n                        totalRows: totalVirtualRows,\r\n                        rowHeight,\r\n                        startIndex: virtualStart,\r\n                        endIndex: virtualEnd,\r\n                      }\r\n                    : undefined\r\n                }\r\n                rowDraggable={opts.rowDraggable}\r\n                onDropRows={opts.onDropRows ? handleDropRows : undefined}\r\n                onDragOverRows={opts.onDropRows ? handleDragOverRows : undefined}\r\n                multiSelect={opts.multiSelect}\r\n                onRowClick={opts.multiSelect ? handleMultiSelectRow : undefined}\r\n                getRowsForIndices={opts.rowDraggable ? getRowsForIndices : undefined}\r\n              />\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </GridViewport>\r\n\r\n      {pagination && !useVirtualScroll && totalPages > 1 && (\r\n        <div className=\"flex items-center gap-2 mt-2\">\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"secondary\"\r\n            size=\"sm\"\r\n            disabled={currentPage <= 1}\r\n            onClick={() => setCurrentPage(currentPage - 1)}\r\n          >\r\n            이전\r\n          </Button>\r\n          <span className=\"text-sm\">\r\n            {currentPage} / {totalPages}\r\n          </span>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"secondary\"\r\n            size=\"sm\"\r\n            disabled={currentPage >= totalPages}\r\n            onClick={() => setCurrentPage(currentPage + 1)}\r\n          >\r\n            다음\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </GridRoot>\r\n  );\r\n};\r\n","import type { ReactNode } from 'react';\r\nimport { cn } from '../../../../utils/cn';\r\n\r\nexport interface GridRootProps {\r\n  children: ReactNode;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/** 최상위 래퍼. 스타일만. */\r\nexport const GridRoot = ({ children, className, style }: GridRootProps) => (\r\n  <div className={cn('w-full overflow-auto', className)} style={style}>\r\n    {children}\r\n  </div>\r\n);\r\n","import { forwardRef, type ReactNode } from 'react';\r\n\r\nexport interface GridViewportProps {\r\n  children: ReactNode;\r\n  onKeyDown?: (e: React.KeyboardEvent) => void;\r\n  onPointerDown?: (e: React.PointerEvent) => void;\r\n  onPointerMove?: (e: React.PointerEvent) => void;\r\n  onPointerUp?: (e: React.PointerEvent) => void;\r\n  onDoubleClick?: (e: React.MouseEvent) => void;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/** 스크롤 영역 + 입력 이벤트 위임. 로직 없음. */\r\nexport const GridViewport = forwardRef<HTMLDivElement, GridViewportProps>(\r\n  (\r\n    {\r\n      children,\r\n      onKeyDown,\r\n      onPointerDown,\r\n      onPointerMove,\r\n      onPointerUp,\r\n      onDoubleClick,\r\n      className,\r\n      style,\r\n    },\r\n    ref\r\n  ) => (\r\n    <div\r\n      ref={ref}\r\n      className={className}\r\n      style={style}\r\n      role=\"grid\"\r\n      tabIndex={0}\r\n      draggable={false}\r\n      onDragStart={(e) => e.preventDefault()}\r\n      onKeyDown={onKeyDown}\r\n      onPointerDown={onPointerDown}\r\n      onPointerMove={onPointerMove}\r\n      onPointerUp={onPointerUp}\r\n      onDoubleClick={onDoubleClick}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n);\r\nGridViewport.displayName = 'GridViewport';\r\n","import { cn } from '../../../../utils/cn';\r\nimport type { CellEditorType } from '../../types';\r\n\r\nexport interface GridCellProps {\r\n  value: unknown;\r\n  focused: boolean;\r\n  selected: boolean;\r\n  editing: boolean;\r\n  rowIndex: number;\r\n  colIndex: number;\r\n  width?: number;\r\n  editor?: CellEditorType;\r\n  dropdownOptions?: string[];\r\n  pinnedStyle?: React.CSSProperties;\r\n  className?: string;\r\n}\r\n\r\n/** Dumb: 렌더링만. 이벤트/내부 state 없음. */\r\nexport const GridCell = ({\r\n  value,\r\n  focused,\r\n  selected,\r\n  editing,\r\n  rowIndex,\r\n  colIndex,\r\n  width,\r\n  editor = 'text',\r\n  dropdownOptions = [],\r\n  pinnedStyle,\r\n  className,\r\n}: GridCellProps) => {\r\n  const displayValue = value == null ? '' : String(value);\r\n  const dataAttrs = { 'data-row': rowIndex, 'data-col': colIndex };\r\n  const inputClass = 'w-full min-w-0 border-0 bg-transparent px-0 py-0 text-sm outline-none';\r\n\r\n  const renderEditor = () => {\r\n    if (editor === 'datetime') {\r\n      const iso = displayValue ? new Date(displayValue).toISOString().slice(0, 16) : '';\r\n      return (\r\n        <input\r\n          type=\"datetime-local\"\r\n          defaultValue={iso}\r\n          className={inputClass}\r\n          {...dataAttrs}\r\n          aria-label={`Cell ${rowIndex} ${colIndex}`}\r\n        />\r\n      );\r\n    }\r\n    if (editor === 'dropdown' && dropdownOptions.length > 0) {\r\n      return (\r\n        <select\r\n          defaultValue={displayValue}\r\n          className={inputClass}\r\n          {...dataAttrs}\r\n          aria-label={`Cell ${rowIndex} ${colIndex}`}\r\n        >\r\n          <option value=\"\">선택</option>\r\n          {dropdownOptions.map((opt) => (\r\n            <option key={opt} value={opt}>\r\n              {opt}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      );\r\n    }\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        defaultValue={displayValue}\r\n        className={inputClass}\r\n        {...dataAttrs}\r\n        aria-label={`Cell ${rowIndex} ${colIndex}`}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <td\r\n      role=\"gridcell\"\r\n      data-row={rowIndex}\r\n      data-col={colIndex}\r\n      className={cn(\r\n        'border-b border-r border-gray-200 px-2 py-1 text-sm outline-none',\r\n        selected && 'bg-blue-100 ring-1 ring-blue-300 ring-inset',\r\n        focused && 'ring-2 ring-blue-500 ring-inset z-[1]',\r\n        className\r\n      )}\r\n      style={{\r\n        ...(width != null ? { width: `${width}px`, minWidth: `${width}px` } : {}),\r\n        ...pinnedStyle,\r\n      }}\r\n    >\r\n      {editing ? renderEditor() : displayValue}\r\n    </td>\r\n  );\r\n};\r\n","import type { Range } from '../types';\r\n\r\n/** 셀 (row, col)이 range 안에 있는지 (순수 함수) */\r\nexport const isCellInRange = (row: number, col: number, range: Range): boolean => {\r\n  const rMin = Math.min(range.start.row, range.end.row);\r\n  const rMax = Math.max(range.start.row, range.end.row);\r\n  const cMin = Math.min(range.start.col, range.end.col);\r\n  const cMax = Math.max(range.start.col, range.end.col);\r\n  return row >= rMin && row <= rMax && col >= cMin && col <= cMax;\r\n};\r\n","import type { ColumnDef } from '../types';\r\n\r\nconst DEFAULT_COL_WIDTH = 100;\r\n\r\n/** pinned 컬럼용 sticky left/right 픽셀 값 (displayColumns 기준) */\r\nexport const getPinnedOffset = (\r\n  columns: ColumnDef[],\r\n  colIndex: number,\r\n  side: 'left' | 'right'\r\n): number => {\r\n  const col = columns[colIndex];\r\n  if (!col || col.pinned !== side) return 0;\r\n  const w = (i: number) => (columns[i]?.width ?? DEFAULT_COL_WIDTH);\r\n  if (side === 'left') {\r\n    let sum = 0;\r\n    for (let i = 0; i < colIndex; i++) if (columns[i]?.pinned === 'left') sum += w(i);\r\n    return sum;\r\n  }\r\n  let sum = 0;\r\n  for (let i = colIndex + 1; i < columns.length; i++) if (columns[i]?.pinned === 'right') sum += w(i);\r\n  return sum;\r\n};\r\n\r\n/** 컬럼 인덱스 → ColumnDef */\r\nexport const getColumnByIndex = (columns: ColumnDef[], colIndex: number): ColumnDef | undefined =>\r\n  columns[colIndex];\r\n\r\n/** 필드명 → 컬럼 인덱스 */\r\nexport const getColIndexByField = (columns: ColumnDef[], field: string): number =>\r\n  columns.findIndex((c) => c.field === field);\r\n\r\n/** 유효 컬럼 인덱스 범위 */\r\nexport const clampColIndex = (columns: ColumnDef[], col: number): number =>\r\n  Math.max(0, Math.min(col, columns.length - 1));\r\n\r\n/** columnOrder(데이터 컬럼 인덱스 배열)로 재정렬 후 pinned(left → center → right) 순서로 반환. __drag__, __checkbox__는 항상 앞에 유지 */\r\nexport const getDisplayColumns = (\r\n  columns: ColumnDef[],\r\n  columnOrder: number[]\r\n): ColumnDef[] => {\r\n  const hasDrag = columns[0]?.field === '__drag__';\r\n  const hasCheckbox = columns[hasDrag ? 1 : 0]?.field === '__checkbox__';\r\n  const dataStart = (hasDrag ? 1 : 0) + (hasCheckbox ? 1 : 0);\r\n  const dataCols = columns.slice(dataStart);\r\n  if (columnOrder.length === 0 || columnOrder.length !== dataCols.length) {\r\n    return columns;\r\n  }\r\n  const reordered = columnOrder.map((i) => dataCols[i]).filter(Boolean);\r\n  const left = reordered.filter((c) => c.pinned === 'left');\r\n  const center = reordered.filter((c) => c.pinned !== 'left' && c.pinned !== 'right');\r\n  const right = reordered.filter((c) => c.pinned === 'right');\r\n  const ordered = [...left, ...center, ...right];\r\n  const prefix = [...(hasDrag ? [columns[0]] : []), ...(hasCheckbox ? [columns[hasDrag ? 1 : 0]] : [])];\r\n  return [...prefix, ...ordered];\r\n};\r\n","import type { RowData, ColumnDef } from '../types';\r\n\r\nconst MAX_PREVIEW_COLS = 4;\r\nconst MAX_PREVIEW_ROWS = 5;\r\n\r\n/** 드래그 시 커서 따라다니는 미리보기 — 실제 셀 컨텐츠 표시 */\r\nexport const createDragPreview = (\r\n  rows: RowData[],\r\n  columns: ColumnDef[],\r\n  dt: DataTransfer\r\n): void => {\r\n  const dataCols = columns.filter((c) => c.field !== '__checkbox__' && c.field !== '__drag__').slice(0, MAX_PREVIEW_COLS);\r\n  if (dataCols.length === 0) return;\r\n\r\n  const el = document.createElement('div');\r\n  el.setAttribute('role', 'presentation');\r\n  el.style.cssText = [\r\n    'position:absolute;top:-9999px;left:-9999px;',\r\n    'padding:0;min-width:80px;max-width:320px;max-height:200px;overflow:hidden;',\r\n    'background:white;border:1px solid #e5e7eb;border-radius:6px;',\r\n    'box-shadow:0 4px 12px rgba(0,0,0,0.15);',\r\n    'font-size:11px;color:#374151;',\r\n    'pointer-events:none;z-index:9999;',\r\n  ].join('');\r\n\r\n  const table = document.createElement('table');\r\n  table.style.cssText = 'border-collapse:collapse;width:100%;table-layout:fixed;';\r\n  table.setAttribute('role', 'presentation');\r\n\r\n  const thead = document.createElement('thead');\r\n  thead.style.background = '#f3f4f6';\r\n  const headerRow = document.createElement('tr');\r\n  dataCols.forEach((col) => {\r\n    const th = document.createElement('th');\r\n    th.style.cssText = 'padding:4px 6px;text-align:left;border-bottom:1px solid #e5e7eb;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:80px;';\r\n    th.textContent = col.header ?? col.field;\r\n    headerRow.appendChild(th);\r\n  });\r\n  thead.appendChild(headerRow);\r\n  table.appendChild(thead);\r\n\r\n  const tbody = document.createElement('tbody');\r\n  const previewRows = rows.slice(0, MAX_PREVIEW_ROWS);\r\n  previewRows.forEach((row) => {\r\n    const tr = document.createElement('tr');\r\n    dataCols.forEach((col) => {\r\n      const td = document.createElement('td');\r\n      td.style.cssText = 'padding:4px 6px;border-bottom:1px solid #f3f4f6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:80px;';\r\n      const val = row[col.field];\r\n      td.textContent = val != null ? String(val) : '';\r\n      tr.appendChild(td);\r\n    });\r\n    tbody.appendChild(tr);\r\n  });\r\n  table.appendChild(tbody);\r\n  el.appendChild(table);\r\n\r\n  if (rows.length > MAX_PREVIEW_ROWS) {\r\n    const footer = document.createElement('div');\r\n    footer.style.cssText = 'padding:2px 6px;background:#f9fafb;font-size:10px;color:#6b7280;';\r\n    footer.textContent = `외 ${rows.length - MAX_PREVIEW_ROWS}행`;\r\n    el.appendChild(footer);\r\n  }\r\n\r\n  document.body.appendChild(el);\r\n  dt.setDragImage(el, 24, 16);\r\n  requestAnimationFrame(() => el.remove());\r\n};\r\n","import type { RowData, ColumnDef } from '../types';\r\nimport { GridCell } from './GridCell';\r\nimport { isCellInRange } from '../model/rangeModel';\r\nimport { getPinnedOffset } from '../model/columnModel';\r\nimport { Checkbox } from '../../Checkbox';\r\nimport { cn } from '../../../../utils/cn';\r\nimport { createDragPreview } from '../utils/dragPreview';\r\n\r\nexport interface GridRowProps {\r\n  rowIndex: number;\r\n  row: RowData;\r\n  columns: ColumnDef[];\r\n  focusedCell: { row: number; col: number } | null;\r\n  selectedRange: { start: { row: number; col: number }; end: { row: number; col: number } } | null;\r\n  editingCell: { row: number; col: number } | null;\r\n  checkboxSelection?: boolean;\r\n  isRowSelected?: boolean;\r\n  onToggleRowSelection?: () => void;\r\n  isPinned?: boolean;\r\n  pinnedRowIndex?: number;\r\n  rowDraggable?: boolean;\r\n  rowHeight?: number;\r\n  /** multiSelect 시 행 클릭 시 호출 (Ctrl/Shift 클릭 처리) */\r\n  onRowClick?: (e: React.MouseEvent) => void;\r\n  /** 멀티 드래그: 표시 행 인덱스 배열 → RowData[] (선택된 행/범위 일괄 드래그용) */\r\n  getRowsForIndices?: (indices: number[]) => RowData[];\r\n  /** 선택된 행 인덱스 (멀티 드래그 시 이 행들 전체 전달) */\r\n  selectedRowIndices?: number[];\r\n  className?: string;\r\n}\r\n\r\nconst EXCEL_GRID_ROWS_TYPE = 'application/x-excelgrid-rows';\r\n\r\n/** 행 한 줄: pinned 셀 스타일, 행 드래그 지원 */\r\nexport const GridRow = ({\r\n  rowIndex,\r\n  row,\r\n  columns,\r\n  focusedCell,\r\n  selectedRange,\r\n  editingCell,\r\n  checkboxSelection,\r\n  isRowSelected,\r\n  onToggleRowSelection,\r\n  isPinned,\r\n  pinnedRowIndex = 0,\r\n  rowDraggable,\r\n  rowHeight,\r\n  onRowClick,\r\n  getRowsForIndices,\r\n  selectedRowIndices = [],\r\n  className,\r\n}: GridRowProps) => {\r\n  const handleDragStart = (e: React.DragEvent) => {\r\n    if (!rowDraggable) return;\r\n\r\n    let rowsToDrag: RowData[];\r\n    if (getRowsForIndices && selectedRowIndices.length > 1 && selectedRowIndices.includes(rowIndex)) {\r\n      rowsToDrag = getRowsForIndices(selectedRowIndices);\r\n    } else if (\r\n      getRowsForIndices &&\r\n      selectedRange &&\r\n      selectedRange.start.row !== selectedRange.end.row\r\n    ) {\r\n      const rMin = Math.min(selectedRange.start.row, selectedRange.end.row);\r\n      const rMax = Math.max(selectedRange.start.row, selectedRange.end.row);\r\n      if (rowIndex >= rMin && rowIndex <= rMax) {\r\n        const indices = Array.from({ length: rMax - rMin + 1 }, (_, i) => rMin + i);\r\n        rowsToDrag = getRowsForIndices(indices);\r\n      } else {\r\n        rowsToDrag = [row];\r\n      }\r\n    } else {\r\n      rowsToDrag = [row];\r\n    }\r\n\r\n    if (rowsToDrag.length === 0) rowsToDrag = [row];\r\n\r\n    e.dataTransfer.setData(EXCEL_GRID_ROWS_TYPE, JSON.stringify(rowsToDrag));\r\n    e.dataTransfer.effectAllowed = 'copy';\r\n\r\n    createDragPreview(rowsToDrag, columns, e.dataTransfer);\r\n\r\n    const tr = e.currentTarget as HTMLTableRowElement;\r\n    tr.style.cursor = 'grabbing';\r\n  };\r\n  const handleDragEnd = (e: React.DragEvent) => {\r\n    (e.currentTarget as HTMLTableRowElement).style.cursor = 'grab';\r\n  };\r\n\r\n  const rowStyle: React.CSSProperties = {\r\n    ...(rowHeight != null ? { height: rowHeight, minHeight: rowHeight } : {}),\r\n    ...(rowDraggable ? { cursor: 'grab' } : {}),\r\n    ...(isPinned\r\n      ? {\r\n          position: 'sticky',\r\n          top: pinnedRowIndex * (rowHeight ?? 32),\r\n          zIndex: 5,\r\n          background: 'white',\r\n          boxShadow: '0 1px 0 #e5e7eb',\r\n        }\r\n      : {}),\r\n  };\r\n\r\n  return (\r\n    <tr\r\n      className={cn(className, isRowSelected && 'bg-blue-50')}\r\n      draggable={rowDraggable}\r\n      onDragStart={rowDraggable ? handleDragStart : undefined}\r\n      onDragEnd={rowDraggable ? handleDragEnd : undefined}\r\n      style={Object.keys(rowStyle).length > 0 ? rowStyle : undefined}\r\n      title={rowDraggable ? '행을 잡아 다른 그리드로 드래그하세요' : undefined}\r\n      aria-label={rowDraggable ? `행 ${rowIndex + 1} 드래그 가능` : undefined}\r\n      onClick={(e) => {\r\n        if ((e.target as HTMLElement).closest('input[type=\"checkbox\"]')) return;\r\n        if (onRowClick) {\r\n          onRowClick(e);\r\n          return;\r\n        }\r\n        if (checkboxSelection && onToggleRowSelection) onToggleRowSelection();\r\n      }}\r\n    >\r\n      {columns.map((col, colIndex) => {\r\n        const leftPx = col.pinned === 'left' ? getPinnedOffset(columns, colIndex, 'left') : undefined;\r\n        const rightPx = col.pinned === 'right' ? getPinnedOffset(columns, colIndex, 'right') : undefined;\r\n        const pinnedStyle: React.CSSProperties =\r\n          leftPx !== undefined\r\n            ? { position: 'sticky', left: leftPx, zIndex: 4, background: 'white', boxShadow: '2px 0 2px -2px rgba(0,0,0,0.08)' }\r\n            : rightPx !== undefined\r\n              ? { position: 'sticky', right: rightPx, zIndex: 4, background: 'white', boxShadow: '-2px 0 2px -2px rgba(0,0,0,0.08)' }\r\n              : {};\r\n\r\n        if (col.field === '__drag__') {\r\n          return (\r\n            <td\r\n              key={col.field}\r\n              className=\"border-b border-r border-gray-200 px-1 py-1 text-center align-middle\"\r\n              style={{ ...(col.width != null ? { width: col.width, minWidth: col.width } : {}), ...pinnedStyle }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              aria-hidden\r\n            >\r\n              <span className=\"inline-flex cursor-grab text-gray-400 hover:text-gray-600 select-none\" title=\"행 잡아 드래그\">⋮⋮</span>\r\n            </td>\r\n          );\r\n        }\r\n        if (col.field === '__checkbox__' && checkboxSelection) {\r\n          return (\r\n            <td\r\n              key={col.field}\r\n              className=\"border-b border-r border-gray-200 px-2 py-1 text-sm w-10\"\r\n              style={{ ...(col.width != null ? { width: col.width, minWidth: col.width } : {}), ...pinnedStyle }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <Checkbox\r\n                checked={!!isRowSelected}\r\n                onChange={() => onToggleRowSelection?.()}\r\n                aria-label={`행 ${rowIndex + 1} 선택`}\r\n              />\r\n            </td>\r\n          );\r\n        }\r\n        const value = row[col.field];\r\n        const focused =\r\n          focusedCell !== null && focusedCell.row === rowIndex && focusedCell.col === colIndex;\r\n        const selected =\r\n          selectedRange !== null && isCellInRange(rowIndex, colIndex, selectedRange);\r\n        const editing =\r\n          editingCell !== null && editingCell.row === rowIndex && editingCell.col === colIndex;\r\n        return (\r\n          <GridCell\r\n            key={col.field}\r\n            value={value}\r\n            focused={focused}\r\n            selected={selected}\r\n            editing={editing}\r\n            rowIndex={rowIndex}\r\n            colIndex={colIndex}\r\n            width={col.width}\r\n            editor={col.editor}\r\n            dropdownOptions={col.dropdownOptions}\r\n            pinnedStyle={pinnedStyle}\r\n          />\r\n        );\r\n      })}\r\n    </tr>\r\n  );\r\n};\r\n","import type { RowData, ColumnDef } from '../types';\r\nimport { GridRow } from './GridRow';\r\nimport { cn } from '../../../../utils/cn';\r\n\r\nexport interface VirtualScrollConfig {\r\n  totalRows: number;\r\n  rowHeight: number;\r\n  startIndex: number;\r\n  endIndex: number;\r\n}\r\n\r\nexport interface GridBodyProps {\r\n  rows: RowData[];\r\n  columns: ColumnDef[];\r\n  focusedCell: { row: number; col: number } | null;\r\n  selectedRange: { start: { row: number; col: number }; end: { row: number; col: number } } | null;\r\n  editingCell: { row: number; col: number } | null;\r\n  checkboxSelection?: boolean;\r\n  selectedRowIndices?: number[];\r\n  onToggleRowSelection?: (rowIndex: number) => void;\r\n  pinnedRowCount?: number;\r\n  startRowIndex?: number;\r\n  virtualScroll?: VirtualScrollConfig;\r\n  rowDraggable?: boolean;\r\n  onDropRows?: (e: React.DragEvent) => void;\r\n  onDragOverRows?: (e: React.DragEvent) => void;\r\n  multiSelect?: boolean;\r\n  onRowClick?: (rowIndex: number, e: React.MouseEvent) => void;\r\n  /** 멀티 드래그: 표시 행 인덱스 → RowData[] */\r\n  getRowsForIndices?: (indices: number[]) => import('../types').RowData[];\r\n  className?: string;\r\n}\r\n\r\n/** tbody: 가상 스크롤 시 상단/하단 스페이서 + 행 목록, 행 드롭 영역 */\r\nexport const GridBody = ({\r\n  rows,\r\n  columns,\r\n  focusedCell,\r\n  selectedRange,\r\n  editingCell,\r\n  checkboxSelection,\r\n  selectedRowIndices = [],\r\n  onToggleRowSelection,\r\n  pinnedRowCount = 0,\r\n  startRowIndex = 0,\r\n  virtualScroll,\r\n  rowDraggable,\r\n  onDropRows,\r\n  onDragOverRows,\r\n  multiSelect,\r\n  onRowClick,\r\n  getRowsForIndices,\r\n  className,\r\n}: GridBodyProps) => {\r\n  const colCount = columns.length;\r\n  const topHeight = virtualScroll ? virtualScroll.startIndex * virtualScroll.rowHeight : 0;\r\n  const bottomHeight = virtualScroll\r\n    ? (virtualScroll.totalRows - virtualScroll.endIndex) * virtualScroll.rowHeight\r\n    : 0;\r\n\r\n  const spacerCell = (key: string, height: number) => (\r\n    <tr key={key} aria-hidden style={{ height, lineHeight: 0, fontSize: 0 }}>\r\n      <td colSpan={colCount} style={{ height, padding: 0, border: 'none', verticalAlign: 'top' }} />\r\n    </tr>\r\n  );\r\n\r\n  return (\r\n    <tbody\r\n      className={cn(className, onDropRows && 'relative')}\r\n      onDragOver={onDragOverRows}\r\n      onDrop={onDropRows}\r\n    >\r\n      {topHeight > 0 && spacerCell('top-spacer', topHeight)}\r\n      {rows.map((row, i) => {\r\n        const rowIndex = startRowIndex + i;\r\n        return (\r\n          <GridRow\r\n            key={rowIndex}\r\n            rowIndex={rowIndex}\r\n            row={row}\r\n            columns={columns}\r\n            focusedCell={focusedCell}\r\n            selectedRange={selectedRange}\r\n            editingCell={editingCell}\r\n            checkboxSelection={checkboxSelection}\r\n            isRowSelected={selectedRowIndices.includes(rowIndex)}\r\n            onToggleRowSelection={onToggleRowSelection ? () => onToggleRowSelection(rowIndex) : undefined}\r\n            isPinned={i < pinnedRowCount}\r\n            pinnedRowIndex={i}\r\n            rowDraggable={rowDraggable}\r\n            rowHeight={virtualScroll?.rowHeight}\r\n            onRowClick={onRowClick ? (e) => onRowClick(rowIndex, e) : undefined}\r\n            getRowsForIndices={getRowsForIndices}\r\n            selectedRowIndices={selectedRowIndices}\r\n          />\r\n        );\r\n      })}\r\n      {bottomHeight > 0 && spacerCell('bottom-spacer', bottomHeight)}\r\n    </tbody>\r\n  );\r\n};\r\n","import type { RowData } from '../types';\r\n\r\n/** 행 인덱스 → row 객체 */\r\nexport const getRowByIndex = (rows: RowData[], rowIndex: number): RowData | undefined =>\r\n  rows[rowIndex];\r\n\r\n/** 셀 값 조회 (row, column field) */\r\nexport const getCellValue = (row: RowData, field: string): unknown => row[field];\r\n\r\n/** 셀 값 설정 (불변 업데이트용) */\r\nexport const setCellValue = (\r\n  rows: RowData[],\r\n  rowIndex: number,\r\n  field: string,\r\n  value: unknown\r\n): RowData[] => {\r\n  const next = rows.map((r, i) =>\r\n    i === rowIndex ? { ...r, [field]: value } : r\r\n  );\r\n  return next;\r\n};\r\n\r\n/** 유효 행 인덱스 범위 */\r\nexport const clampRowIndex = (rows: RowData[], row: number): number =>\r\n  Math.max(0, Math.min(row, rows.length - 1));\r\n","import type { RowData, ColumnDef, SortDirection } from '../types';\r\nimport { getColumnByIndex } from './columnModel';\r\nimport { getCellValue } from './rowModel';\r\n\r\n/** 검색어가 행의 어떤 셀에 포함되는지 (대소문자 무시) */\r\nexport const rowMatchesSearch = (row: RowData, columns: ColumnDef[], searchText: string): boolean => {\r\n  if (!searchText.trim()) return true;\r\n  const lower = searchText.trim().toLowerCase();\r\n  return columns.some((col) => {\r\n    if (col.field === '__checkbox__') return false;\r\n    const v = getCellValue(row, col.field);\r\n    return String(v ?? '').toLowerCase().includes(lower);\r\n  });\r\n};\r\n\r\n/** 정렬 비교 (숫자/문자 자동) */\r\nconst compare = (a: unknown, b: unknown): number => {\r\n  const na = Number(a);\r\n  const nb = Number(b);\r\n  if (!Number.isNaN(na) && !Number.isNaN(nb)) return na - nb;\r\n  return String(a ?? '').localeCompare(String(b ?? ''), undefined, { numeric: true });\r\n};\r\n\r\nexport interface DisplayRow {\r\n  row: RowData;\r\n  originalIndex: number;\r\n}\r\n\r\n/** 컬럼별 필터에 맞는지 (데이터 컬럼 인덱스 -> 검색어) */\r\nconst rowMatchesColumnFilters = (\r\n  row: RowData,\r\n  columns: ColumnDef[],\r\n  columnFilters: Record<number, string>\r\n): boolean => {\r\n  const dataCols = columns.filter((c) => c.field !== '__checkbox__');\r\n  return dataCols.every((col, dataIdx) => {\r\n    const filter = columnFilters[dataIdx];\r\n    if (!filter?.trim()) return true;\r\n    const v = getCellValue(row, col.field);\r\n    return String(v ?? '').toLowerCase().includes(filter.trim().toLowerCase());\r\n  });\r\n};\r\n\r\n/** 필터 후 정렬하여 표시용 행 배열 반환 */\r\nexport const getDisplayedRows = (\r\n  rows: RowData[],\r\n  columns: ColumnDef[],\r\n  searchText: string,\r\n  sortBy: { col: number; dir: SortDirection } | null,\r\n  columnFilters: Record<number, string> = {}\r\n): DisplayRow[] => {\r\n  const withIndex = rows\r\n    .map((row, originalIndex) => ({ row, originalIndex }))\r\n    .filter(({ row }) => rowMatchesSearch(row, columns, searchText))\r\n    .filter(({ row }) => rowMatchesColumnFilters(row, columns, columnFilters));\r\n\r\n  if (!sortBy) return withIndex;\r\n\r\n  const colDef = getColumnByIndex(columns, sortBy.col);\r\n  if (!colDef || colDef.field === '__checkbox__') return withIndex;\r\n\r\n  const sorted = [...withIndex].sort((a, b) => {\r\n    const va = getCellValue(a.row, colDef.field);\r\n    const vb = getCellValue(b.row, colDef.field);\r\n    const c = compare(va, vb);\r\n    return sortBy.dir === 'asc' ? c : -c;\r\n  });\r\n  return sorted;\r\n};\r\n","import type { CellCoord } from '../types';\r\nimport type { GridStoreApi } from '../state/gridStore';\r\nimport { clampRowIndex } from '../model/rowModel';\r\nimport { clampColIndex as clampCol } from '../model/columnModel';\r\n\r\n/** 포커스 이동 + 선택 영역을 해당 셀로 */\r\nexport const moveFocus = (store: GridStoreApi, row: number, col: number): void => {\r\n  const rows = store.getState().rows;\r\n  const cols = store.getState().columns;\r\n  if (rows.length === 0 || cols.length === 0) return;\r\n  const r = clampRowIndex(rows, row);\r\n  const c = clampCol(cols, col);\r\n  store.setState({\r\n    focusedCell: { row: r, col: c },\r\n    selectedRange: { start: { row: r, col: c }, end: { row: r, col: c } },\r\n  });\r\n};\r\n\r\n/** 드래그로 선택 영역만 확장 (focus는 end로) */\r\nexport const extendSelection = (store: GridStoreApi, endRow: number, endCol: number): void => {\r\n  const state = store.getState();\r\n  const focus = state.focusedCell;\r\n  const rows = state.rows;\r\n  const cols = state.columns;\r\n  if (!focus || rows.length === 0 || cols.length === 0) return;\r\n  const r = clampRowIndex(rows, endRow);\r\n  const c = clampCol(cols, endCol);\r\n  store.setState({\r\n    focusedCell: { row: r, col: c },\r\n    selectedRange: { start: focus, end: { row: r, col: c } },\r\n  });\r\n};\r\n\r\n/** 현재 포커스 셀 기준으로 (dRow, dCol)만큼 이동 */\r\nexport const moveFocusBy = (store: GridStoreApi, dRow: number, dCol: number): CellCoord | null => {\r\n  const state = store.getState();\r\n  const focus = state.focusedCell;\r\n  const rows = state.rows;\r\n  const cols = state.columns;\r\n  if (!focus || rows.length === 0 || cols.length === 0) return null;\r\n  const r = clampRowIndex(rows, focus.row + dRow);\r\n  const c = clampCol(cols, focus.col + dCol);\r\n  moveFocus(store, r, c);\r\n  return { row: r, col: c };\r\n};\r\n","import type { GridStoreApi } from '../state/gridStore';\r\nimport { getCellValue, setCellValue } from '../model/rowModel';\r\nimport { getColumnByIndex, getDisplayColumns } from '../model/columnModel';\r\n\r\nexport interface CopyOptions {\r\n  editable?: boolean;\r\n}\r\n\r\n/** 선택 영역을 텍스트로 복사 (탭 구분). editable 시 편집 가능 셀만 복사 */\r\nexport const copySelection = (store: GridStoreApi, opts: CopyOptions = {}): string => {\r\n  const state = store.getState();\r\n  const { rows, columns, selectedRange, columnOrder } = state;\r\n  const displayCols = getDisplayColumns(columns, columnOrder);\r\n  if (!selectedRange || rows.length === 0 || displayCols.length === 0) return '';\r\n  if (opts.editable === false) return '';\r\n\r\n  const rMin = Math.min(selectedRange.start.row, selectedRange.end.row);\r\n  const rMax = Math.max(selectedRange.start.row, selectedRange.end.row);\r\n  const cMin = Math.min(selectedRange.start.col, selectedRange.end.col);\r\n  const cMax = Math.max(selectedRange.start.col, selectedRange.end.col);\r\n\r\n  const lines: string[] = [];\r\n  for (let r = rMin; r <= rMax; r++) {\r\n    const row = rows[r];\r\n    if (!row) continue;\r\n    const cells: string[] = [];\r\n    for (let c = cMin; c <= cMax; c++) {\r\n      const col = getColumnByIndex(displayCols, c);\r\n      if (col?.field === '__checkbox__') continue;\r\n      if (opts.editable === true && col?.editable === false) continue;\r\n      const val = col ? getCellValue(row, col.field) : undefined;\r\n      cells.push(String(val ?? ''));\r\n    }\r\n    lines.push(cells.join('\\t'));\r\n  }\r\n  return lines.join('\\n');\r\n};\r\n\r\nexport interface PasteOptions {\r\n  onChange?: (rowIndex: number, colIndex: number, value: unknown) => void;\r\n  getOriginalRowIndex?: (displayedRow: number) => number;\r\n  editable?: boolean;\r\n}\r\n\r\n/** 클립보드 텍스트를 현재 포커스 위치부터 붙여넣기 */\r\nexport const pasteAtFocus = (store: GridStoreApi, text: string, opts: PasteOptions = {}): void => {\r\n  const state = store.getState();\r\n  const { rows, columns, focusedCell, columnOrder } = state;\r\n  const displayCols = getDisplayColumns(columns, columnOrder);\r\n  if (rows.length === 0 || displayCols.length === 0) return;\r\n  if (opts.editable === false) return;\r\n  const focus = focusedCell ?? { row: 0, col: 0 };\r\n\r\n  const lines = text.split(/\\r?\\n/).filter((line) => line.length > 0 || text.includes('\\n'));\r\n  if (lines.length === 0) return;\r\n\r\n  const parsed: string[][] = lines.map((line) => line.split('\\t'));\r\n  let nextRows = [...rows];\r\n\r\n  const getOriginal = opts.getOriginalRowIndex ?? ((i: number) => i);\r\n  for (let dr = 0; dr < parsed.length; dr++) {\r\n    const displayedRowIndex = focus.row + dr;\r\n    const rowIndex = getOriginal(displayedRowIndex);\r\n    if (rowIndex < 0 || rowIndex >= nextRows.length) continue;\r\n    const line = parsed[dr];\r\n    if (!line) continue;\r\n    for (let dc = 0; dc < line.length; dc++) {\r\n      const colIndex = focus.col + dc;\r\n      if (colIndex >= displayCols.length) break;\r\n      const colDef = getColumnByIndex(displayCols, colIndex);\r\n      if (!colDef || colDef.field === '__checkbox__') continue;\r\n      if (colDef.editable === false) continue;\r\n      const value = line[dc];\r\n      nextRows = setCellValue(nextRows, rowIndex, colDef.field, value);\r\n      opts.onChange?.(rowIndex, colIndex, value);\r\n    }\r\n  }\r\n\r\n  store.setRows(nextRows);\r\n};\r\n","import type { GridStoreApi } from '../state/gridStore';\r\nimport { moveFocusBy } from './selection';\r\nimport { getColumnByIndex, getDisplayColumns } from '../model/columnModel';\r\nimport { setCellValue } from '../model/rowModel';\r\nimport { copySelection, pasteAtFocus } from './clipboard';\r\n\r\nexport interface KeyboardControllerOptions {\r\n  store: GridStoreApi;\r\n  editable: boolean;\r\n  onChange?: (rowIndex: number, colIndex: number, value: unknown) => void;\r\n  getEditingValue?: () => string | undefined;\r\n  getOriginalRowIndex?: (displayedRow: number) => number;\r\n}\r\n\r\n/** 그리드별 키다운 핸들러 생성 */\r\nexport const createKeyDownHandler = (options: KeyboardControllerOptions) => {\r\n  const { store } = options;\r\n\r\n  const commitEditingCell = (): void => {\r\n    const state = store.getState();\r\n    const { editingCell, rows, columns, columnOrder } = state;\r\n    if (!editingCell || !options.getEditingValue || !options.onChange) return;\r\n    const displayCols = getDisplayColumns(columns, columnOrder);\r\n    const colDef = getColumnByIndex(displayCols, editingCell.col);\r\n    if (!colDef || colDef.field === '__checkbox__') return;\r\n    const value = options.getEditingValue();\r\n    const originalRow = options.getOriginalRowIndex?.(editingCell.row) ?? editingCell.row;\r\n    const nextRows = setCellValue(rows, originalRow, colDef.field, value);\r\n    store.setRows(nextRows);\r\n    options.onChange(originalRow, editingCell.col, value);\r\n    store.setState({ editingCell: null });\r\n  };\r\n\r\n  return (event: React.KeyboardEvent): void => {\r\n    const state = store.getState();\r\n    const { focusedCell, editingCell, rows, columns, columnOrder } = state;\r\n    const displayCols = getDisplayColumns(columns, columnOrder);\r\n    if (displayCols.length === 0 || rows.length === 0) return;\r\n\r\n    const focus = focusedCell ?? { row: 0, col: 0 };\r\n\r\n    if (editingCell) {\r\n      if (event.key === 'Enter') {\r\n        event.preventDefault();\r\n        commitEditingCell();\r\n      } else if (event.key === 'Escape') {\r\n        event.preventDefault();\r\n        store.setState({ editingCell: null });\r\n      } else if (event.key === 'Tab') {\r\n        event.preventDefault();\r\n        commitEditingCell();\r\n        moveFocusBy(store, 0, event.shiftKey ? -1 : 1);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (event.key === 'c' && (event.metaKey || event.ctrlKey)) {\r\n      const text = copySelection(store, { editable: options.editable });\r\n      if (text) {\r\n        event.preventDefault();\r\n        void navigator.clipboard.writeText(text);\r\n      }\r\n      return;\r\n    }\r\n    if (event.key === 'v' && (event.metaKey || event.ctrlKey)) {\r\n      event.preventDefault();\r\n      if (editingCell) commitEditingCell();\r\n      if (!options.editable) return;\r\n      navigator.clipboard.readText().then((t) => {\r\n        pasteAtFocus(store, t, {\r\n          onChange: options.onChange,\r\n          getOriginalRowIndex: options.getOriginalRowIndex,\r\n          editable: options.editable,\r\n        });\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (event.key) {\r\n      case 'ArrowUp':\r\n        event.preventDefault();\r\n        moveFocusBy(store, -1, 0);\r\n        return;\r\n      case 'ArrowDown':\r\n        event.preventDefault();\r\n        moveFocusBy(store, 1, 0);\r\n        return;\r\n      case 'ArrowLeft':\r\n        event.preventDefault();\r\n        moveFocusBy(store, 0, -1);\r\n        return;\r\n      case 'ArrowRight':\r\n        event.preventDefault();\r\n        moveFocusBy(store, 0, 1);\r\n        return;\r\n      case 'Enter':\r\n        event.preventDefault();\r\n        if (options.editable) {\r\n          const colDef = getColumnByIndex(displayCols, focus.col);\r\n          if (colDef?.field !== '__checkbox__' && colDef?.editable !== false) {\r\n            store.setState({ editingCell: focus });\r\n          }\r\n        } else {\r\n          moveFocusBy(store, 1, 0);\r\n        }\r\n        return;\r\n      case 'Tab':\r\n        event.preventDefault();\r\n        if (event.shiftKey) moveFocusBy(store, 0, -1);\r\n        else moveFocusBy(store, 0, 1);\r\n        return;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n};\r\n","import type { GridStoreApi } from '../state/gridStore';\r\nimport { getColumnByIndex } from '../model/columnModel';\r\nimport { moveFocus, extendSelection } from './selection';\r\n\r\nconst CELL_SELECTOR = '[data-row][data-col]';\r\n\r\nexport interface MouseControllerOptions {\r\n  editable: boolean;\r\n}\r\n\r\nconst getCellFromEvent = (e: React.PointerEvent): { row: number; col: number } | null => {\r\n  const el = (e.target as HTMLElement).closest(CELL_SELECTOR);\r\n  if (!el) return null;\r\n  const row = el.getAttribute('data-row');\r\n  const col = el.getAttribute('data-col');\r\n  if (row == null || col == null) return null;\r\n  return { row: parseInt(row, 10), col: parseInt(col, 10) };\r\n};\r\n\r\n/** 그리드별 포인터 핸들러 생성 (스토어별로 isDragSelecting 분리) */\r\nexport const createPointerHandlers = (\r\n  store: GridStoreApi,\r\n  options: MouseControllerOptions\r\n) => {\r\n  let isDragSelecting = false;\r\n\r\n  const handlePointerDown = (e: React.PointerEvent): void => {\r\n    const cell = getCellFromEvent(e);\r\n    if (!cell) return;\r\n    e.preventDefault();\r\n    isDragSelecting = true;\r\n    moveFocus(store, cell.row, cell.col);\r\n  };\r\n\r\n  const handlePointerMove = (e: React.PointerEvent): void => {\r\n    if (!isDragSelecting) return;\r\n    const cell = getCellFromEvent(e);\r\n    if (!cell) return;\r\n    extendSelection(store, cell.row, cell.col);\r\n  };\r\n\r\n  const handlePointerUp = (): void => {\r\n    isDragSelecting = false;\r\n  };\r\n\r\n  const handleDoubleClick = (e: React.MouseEvent): void => {\r\n    const cell = getCellFromEvent(e as unknown as React.PointerEvent);\r\n    if (!cell || !options.editable) return;\r\n    const { columns } = store.getState();\r\n    const colDef = getColumnByIndex(columns, cell.col);\r\n    if (colDef?.editable === false) return;\r\n    store.setState({ editingCell: cell });\r\n  };\r\n\r\n  return {\r\n    handlePointerDown,\r\n    handlePointerMove,\r\n    handlePointerUp,\r\n    handleDoubleClick,\r\n  };\r\n};\r\n","import type { RowData, ColumnDef } from '../types';\r\nimport { getColumnByIndex } from '../model/columnModel';\r\nimport { getCellValue } from '../model/rowModel';\r\n\r\nexport interface ExportImportOptions {\r\n  /** 컬럼 구분자. 기본 ',' (CSV) */\r\n  delimiter?: string;\r\n  /** 줄 구분자. 기본 '\\n' */\r\n  lineEnd?: string;\r\n  /** 헤더 행 포함 여부. 기본 true */\r\n  includeHeader?: boolean;\r\n}\r\n\r\nconst DEFAULT_DELIMITER = ',';\r\nconst DEFAULT_LINE_END = '\\n';\r\n\r\n/** CSV 등 텍스트로 테이블 내보내기 */\r\nexport const exportTableToText = (\r\n  rows: RowData[],\r\n  columns: ColumnDef[],\r\n  opts: ExportImportOptions = {}\r\n): string => {\r\n  const delim = opts.delimiter ?? DEFAULT_DELIMITER;\r\n  const lineEnd = opts.lineEnd ?? DEFAULT_LINE_END;\r\n  const includeHeader = opts.includeHeader !== false;\r\n  const dataColumns = columns.filter((c) => c.field !== '__checkbox__');\r\n\r\n  const lines: string[] = [];\r\n  if (includeHeader) {\r\n    lines.push(dataColumns.map((c) => escapeCell(c.header ?? c.field, delim)).join(delim));\r\n  }\r\n  for (const row of rows) {\r\n    const cells = dataColumns.map((col) => {\r\n      const v = getCellValue(row, col.field);\r\n      return escapeCell(v == null ? '' : String(v), delim);\r\n    });\r\n    lines.push(cells.join(delim));\r\n  }\r\n  return lines.join(lineEnd);\r\n};\r\n\r\n/** CSV 등 텍스트에서 테이블 데이터 파싱 */\r\nexport const importTableFromText = (\r\n  text: string,\r\n  columns: ColumnDef[],\r\n  opts: ExportImportOptions = {}\r\n): RowData[] => {\r\n  const delim = opts.delimiter ?? DEFAULT_DELIMITER;\r\n  const lineEnd = opts.lineEnd ?? '\\n';\r\n  const includeHeader = opts.includeHeader !== false;\r\n  const dataColumns = columns.filter((c) => c.field !== '__checkbox__');\r\n\r\n  const lines = text.split(/\\r?\\n/).filter((line) => line.length > 0);\r\n  let start = 0;\r\n  if (includeHeader && lines.length > 0) start = 1;\r\n\r\n  const rows: RowData[] = [];\r\n  for (let i = start; i < lines.length; i++) {\r\n    const line = lines[i];\r\n    const cells = parseLine(line, delim);\r\n    const row: RowData = {};\r\n    dataColumns.forEach((col, ci) => {\r\n      row[col.field] = cells[ci] ?? '';\r\n    });\r\n    rows.push(row);\r\n  }\r\n  return rows;\r\n};\r\n\r\nfunction escapeCell(val: string, delim: string): string {\r\n  const needsQuote = val.includes(delim) || val.includes('\"') || val.includes('\\n') || val.includes('\\r');\r\n  if (!needsQuote) return val;\r\n  return `\"${val.replace(/\"/g, '\"\"')}\"`;\r\n}\r\n\r\nfunction parseLine(line: string, delim: string): string[] {\r\n  const result: string[] = [];\r\n  let current = '';\r\n  let inQuotes = false;\r\n  for (let i = 0; i < line.length; i++) {\r\n    const c = line[i];\r\n    if (c === '\"') {\r\n      if (inQuotes && line[i + 1] === '\"') {\r\n        current += '\"';\r\n        i++;\r\n      } else {\r\n        inQuotes = !inQuotes;\r\n      }\r\n    } else if (inQuotes) {\r\n      current += c;\r\n    } else if (c === delim) {\r\n      result.push(current);\r\n      current = '';\r\n    } else {\r\n      current += c;\r\n    }\r\n  }\r\n  result.push(current);\r\n  return result;\r\n}\r\n\r\n/** Blob으로 다운로드 (파일 저장) */\r\nexport const downloadTableAsFile = (\r\n  content: string,\r\n  filename: string,\r\n  mimeType = 'text/csv;charset=utf-8'\r\n): void => {\r\n  const blob = new Blob(['\\uFEFF' + content], { type: mimeType });\r\n  const a = document.createElement('a');\r\n  a.href = URL.createObjectURL(blob);\r\n  a.download = filename;\r\n  a.click();\r\n  URL.revokeObjectURL(a.href);\r\n};\r\n","import { ExcelGridProvider } from './ExcelGridContext';\r\nimport { ExcelGridInner } from './ExcelGridInner';\r\nimport type { ExcelGridProps } from './types';\r\n\r\n/** Public API: 단일 컴포넌트. 로직 없음, 초기화 + 조합만. */\r\nexport const ExcelGrid = ({\r\n  columns,\r\n  rows,\r\n  editable = false,\r\n  selection = true,\r\n  checkboxSelection = false,\r\n  multiSelect = false,\r\n  onSelectionChange,\r\n  sortable = false,\r\n  searchPlaceholder,\r\n  columnFilter = false,\r\n  columnReorder = false,\r\n  pagination,\r\n  virtualScroll,\r\n  pinnedRowCount = 0,\r\n  rowDraggable = false,\r\n  onDropRows,\r\n  onAddRow,\r\n  exportFileName,\r\n  exportImportDelimiter = ',',\r\n  onImport,\r\n  onChange,\r\n  className,\r\n  style,\r\n}: ExcelGridProps) => (\r\n  <ExcelGridProvider\r\n    rows={rows}\r\n    columns={columns}\r\n    editable={editable}\r\n    checkboxSelection={checkboxSelection}\r\n    multiSelect={multiSelect}\r\n    onSelectionChange={onSelectionChange}\r\n    sortable={sortable}\r\n    searchPlaceholder={searchPlaceholder}\r\n    columnFilter={columnFilter}\r\n    columnReorder={columnReorder}\r\n    pagination={pagination}\r\n    virtualScroll={virtualScroll}\r\n    pinnedRowCount={pinnedRowCount}\r\n    rowDraggable={rowDraggable}\r\n    onDropRows={onDropRows}\r\n    onAddRow={onAddRow}\r\n    exportFileName={exportFileName}\r\n    exportImportDelimiter={exportImportDelimiter}\r\n    onImport={onImport}\r\n    onChange={onChange}\r\n  >\r\n    <ExcelGridInner className={className} style={style} />\r\n  </ExcelGridProvider>\r\n);\r\n","import { useCallback, useState } from 'react';\n\nexport interface UseDisclosureReturn {\n  isOpen: boolean;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n}\n\nexport const useDisclosure = (initial = false): UseDisclosureReturn => {\n  const [isOpen, setIsOpen] = useState(initial);\n  const open = useCallback(() => setIsOpen(true), []);\n  const close = useCallback(() => setIsOpen(false), []);\n  const toggle = useCallback(() => setIsOpen((prev) => !prev), []);\n  return { isOpen, open, close, toggle };\n};\n"],"mappings":"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","names":["value","createContext","useContext","useMemo","jsx","createContext","useMemo","useContext","jsx","forwardRef","jsx","forwardRef","jsx","jsx","Fragment","Transition","jsx","jsxs","Transition","Fragment","jsx","jsxs","forwardRef","jsx","jsxs","forwardRef","createContext","useContext","createContext","useContext","jsx","jsx","jsx","useMemo","useState","useState","useMemo","jsx","Fragment","jsx","jsxs","jsx","jsxs","flexRender","getCoreRowModel","useReactTable","useMemo","jsx","jsx","jsxs","useMemo","useReactTable","getCoreRowModel","flexRender","createContext","useContext","useRef","useEffect","useCallback","useMemo","jsx","createContext","useContext","useRef","useEffect","useCallback","useMemo","useEffect","useMemo","useCallback","useState","useRef","jsx","forwardRef","jsx","jsx","jsxs","sum","jsx","jsx","jsxs","Fragment","jsx","jsxs","useState","useMemo","useRef","useEffect","useCallback","dataCols","jsx","useCallback","useState","useState","useCallback"]}